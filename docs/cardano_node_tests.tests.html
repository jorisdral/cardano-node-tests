<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cardano_node_tests.tests package &mdash; cardano-node-tests  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="cardano_node_tests.utils package" href="cardano_node_tests.utils.html" />
    <link rel="prev" title="cardano_node_tests package" href="cardano_node_tests.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> cardano-node-tests
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">README for cardano-node-tests</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Source Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="cardano_node_tests.html">cardano_node_tests package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="cardano_node_tests.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">cardano_node_tests.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.utils.html">cardano_node_tests.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.cardano_cli_coverage">cardano_node_tests.cardano_cli_coverage module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.prepare_cluster_scripts">cardano_node_tests.prepare_cluster_scripts module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.testnet_cleanup">cardano_node_tests.testnet_cleanup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cardano-node-tests</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">Source Documentation</a> &raquo;</li>
          <li><a href="cardano_node_tests.html">cardano_node_tests package</a> &raquo;</li>
      <li>cardano_node_tests.tests package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cardano_node_tests.tests.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="cardano-node-tests-tests-package">
<h1>cardano_node_tests.tests package<a class="headerlink" href="#cardano-node-tests-tests-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cardano_node_tests.tests.conftest">
<span id="cardano-node-tests-tests-conftest-module"></span><h2>cardano_node_tests.tests.conftest module<a class="headerlink" href="#module-cardano_node_tests.tests.conftest" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.change_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">change_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L127-L132"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.change_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change CWD to temp directory before running tests.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.close_dbconn">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">close_dbconn</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Generator<span class="p">[</span>None<span class="p">, </span>None<span class="p">, </span>None<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L135-L139"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.close_dbconn" title="Permalink to this definition">¶</a></dt>
<dd><p>Close connection to db-sync database at the end of session.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.cluster">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L233-L238"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.cluster_chores">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">cluster_chores</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em>, <em class="sig-param"><span class="n">worker_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span> &#x2192; Generator<span class="p">[</span>None<span class="p">, </span>None<span class="p">, </span>None<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L159-L209"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_chores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.cluster_manager">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">cluster_manager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em>, <em class="sig-param"><span class="n">worker_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span> &#x2192; Generator<span class="p">[</span><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a><span class="p">, </span>None<span class="p">, </span>None<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L219-L230"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Return instance of <cite>cluster_management.ClusterManager</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.pytest_addoption">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">pytest_addoption</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parser</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L29-L49"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_addoption" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.pytest_collection_modifyitems">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">pytest_collection_modifyitems</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">items</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L115-L124"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_collection_modifyitems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.pytest_configure">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">pytest_configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L52-L73"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_configure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.conftest.session_autouse">
<code class="sig-prename descclassname">cardano_node_tests.tests.conftest.</code><code class="sig-name descname">session_autouse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">change_dir</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">close_dbconn</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">cluster_chores</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/conftest.py#L212-L216"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.session_autouse" title="Permalink to this definition">¶</a></dt>
<dd><p>Autouse session fixtures that are required for session setup and teardown.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.delegation">
<span id="cardano-node-tests-tests-delegation-module"></span><h2>cardano_node_tests.tests.delegation module<a class="headerlink" href="#module-cardano_node_tests.tests.delegation" title="Permalink to this headline">¶</a></h2>
<p>Functionality for stake address delegation used in multiple tests modules.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.delegation.DelegationOut">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.delegation.</code><code class="sig-name descname">DelegationOut</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pool_user</span></em>, <em class="sig-param"><span class="n">pool_id</span></em>, <em class="sig-param"><span class="n">tx_raw_output</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py#L21-L24"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.delegation.DelegationOut.pool_id">
<code class="sig-name descname">pool_id</code><em class="property">: str</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.pool_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.delegation.DelegationOut.pool_user">
<code class="sig-name descname">pool_user</code><em class="property">: cardano_clusterlib.clusterlib.PoolUser</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.pool_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.delegation.DelegationOut.tx_raw_output">
<code class="sig-name descname">tx_raw_output</code><em class="property">: cardano_clusterlib.clusterlib.TxRawOutput</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.tx_raw_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.delegation.cluster_and_pool">
<code class="sig-prename descclassname">cardano_node_tests.tests.delegation.</code><code class="sig-name descname">cluster_and_pool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py#L37-L69"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.cluster_and_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite>, and pool id to delegate to.</p>
<p>We need to mark the pool as “in use” when requesting local cluster
instance, that’s why cluster instance and pool id are tied together in
single fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.delegation.db_check_delegation">
<code class="sig-prename descclassname">cardano_node_tests.tests.delegation.</code><code class="sig-name descname">db_check_delegation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pool_user</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolUser</span></em>, <em class="sig-param"><span class="n">db_record</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_utils.TxRecord" title="cardano_node_tests.utils.dbsync_utils.TxRecord">cardano_node_tests.utils.dbsync_utils.TxRecord</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">deleg_epoch</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">pool_id</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py#L72-L85"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.db_check_delegation" title="Permalink to this definition">¶</a></dt>
<dd><p>Check delegation in db-sync.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.delegation.delegate_stake_addr">
<code class="sig-prename descclassname">cardano_node_tests.tests.delegation.</code><code class="sig-name descname">delegate_stake_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_obj</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">addrs_data</span><span class="p">:</span> <span class="n">dict</span></em>, <em class="sig-param"><span class="n">temp_template</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">pool_user</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pool_id</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">''</span></em>, <em class="sig-param"><span class="n">cold_vkey</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>pathlib.Path<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">100000000</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#cardano_node_tests.tests.delegation.DelegationOut" title="cardano_node_tests.tests.delegation.DelegationOut">cardano_node_tests.tests.delegation.DelegationOut</a><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py#L88-L184"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.delegate_stake_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit registration certificate and delegate to pool.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.delegation.get_pool_id">
<code class="sig-prename descclassname">cardano_node_tests.tests.delegation.</code><code class="sig-name descname">get_pool_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_obj</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">addrs_data</span><span class="p">:</span> <span class="n">dict</span></em>, <em class="sig-param"><span class="n">pool_name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/delegation.py#L27-L34"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.get_pool_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return stake pool id.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.plutus_mint">
<span id="cardano-node-tests-tests-plutus-mint-module"></span><h2>cardano_node_tests.tests.plutus_mint module<a class="headerlink" href="#module-cardano_node_tests.tests.plutus_mint" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cardano_node_tests.tests.plutus_spend">
<span id="cardano-node-tests-tests-plutus-spend-module"></span><h2>cardano_node_tests.tests.plutus_spend module<a class="headerlink" href="#module-cardano_node_tests.tests.plutus_spend" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="cardano_node_tests.tests.plutus_spend.PlutusOp">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.plutus_spend.</code><code class="sig-name descname">PlutusOp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">script_file</span></em>, <em class="sig-param"><span class="n">datum_file</span></em>, <em class="sig-param"><span class="n">redeemer_file</span></em>, <em class="sig-param"><span class="n">execution_units</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py#L21-L25"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.PlutusOp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.plutus_spend.PlutusOp.datum_file">
<code class="sig-name descname">datum_file</code><em class="property">: pathlib.Path</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.PlutusOp.datum_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.plutus_spend.PlutusOp.execution_units">
<code class="sig-name descname">execution_units</code><em class="property">: Optional<span class="p">[</span>Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.PlutusOp.execution_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.plutus_spend.PlutusOp.redeemer_file">
<code class="sig-name descname">redeemer_file</code><em class="property">: pathlib.Path</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.PlutusOp.redeemer_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.plutus_spend.PlutusOp.script_file">
<code class="sig-name descname">script_file</code><em class="property">: pathlib.Path</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.PlutusOp.script_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.plutus_spend.Token">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.plutus_spend.</code><code class="sig-name descname">Token</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coin</span></em>, <em class="sig-param"><span class="n">amount</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py#L28-L30"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.Token" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.plutus_spend.Token.amount">
<code class="sig-name descname">amount</code><em class="property">: int</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.Token.amount" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.plutus_spend.Token.coin">
<code class="sig-name descname">coin</code><em class="property">: str</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/plutus_spend.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_spend.Token.coin" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_cli">
<span id="cardano-node-tests-tests-test-cli-module"></span><h2>cardano_node_tests.tests.test_cli module<a class="headerlink" href="#module-cardano_node_tests.tests.test_cli" title="Permalink to this headline">¶</a></h2>
<p>Tests for cardano-cli that doesn’t fit into any other test file.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_cli.TestAddressInfo">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_cli.</code><code class="sig-name descname">TestAddressInfo</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L114-L187"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli address info.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_cli.TestAddressInfo.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment">
<code class="sig-name descname">test_address_info_payment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">addr_gen</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L118-L137"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment" title="Permalink to this definition">¶</a></dt>
<dd><p>Check payment address info.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_script">
<code class="sig-name descname">test_address_info_script</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L160-L187"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Check script address info.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_stake">
<code class="sig-name descname">test_address_info_stake</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">addr_gen</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L139-L158"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_stake" title="Permalink to this definition">¶</a></dt>
<dd><p>Check stake address info.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_cli.TestCLI">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_cli.</code><code class="sig-name descname">TestCLI</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L38-L111"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE">
<code class="sig-name descname">TX_BODY_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.body')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_cli.TestCLI.TX_FILE">
<code class="sig-name descname">TX_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.signed')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_cli.TestCLI.TX_OUT">
<code class="sig-name descname">TX_OUT</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.out')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_OUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_cli.TestCLI.test_protocol_mode">
<code class="sig-name descname">test_protocol_mode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L45-L63"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_protocol_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the default protocol mode - command works even without specifying protocol mode.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_cli.TestCLI.test_testnet_whole_utxo">
<code class="sig-name descname">test_testnet_whole_utxo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L83-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_testnet_whole_utxo" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it is possible to return the whole UTxO on testnets.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_cli.TestCLI.test_tx_view">
<code class="sig-name descname">test_tx_view</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L97-L111"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_tx_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the output of <cite>transaction view</cite> is as expected.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_cli.TestCLI.test_whole_utxo">
<code class="sig-name descname">test_whole_utxo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L65-L81"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_whole_utxo" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it is possible to return the whole UTxO on local cluster.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_cli.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_cli.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L19-L24"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_cli.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_cli.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_cli.py#L27-L31"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_configuration">
<span id="cardano-node-tests-tests-test-configuration-module"></span><h2>cardano_node_tests.tests.test_configuration module<a class="headerlink" href="#module-cardano_node_tests.tests.test_configuration" title="Permalink to this headline">¶</a></h2>
<p>Tests for node configuration.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_configuration.TestBasic">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">TestBasic</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L130-L155"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for node configuration.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_configuration.TestBasic.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': &quot;different TX eras doesn't affect this test, pointless to run&quot;}), Mark(name='order', args=(3,), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_configuration.TestBasic.test_epoch_length">
<code class="sig-name descname">test_epoch_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_epoch_length</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L138-L145"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.test_epoch_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the <em>epochLength</em> configuration.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_configuration.TestBasic.test_slot_length">
<code class="sig-name descname">test_slot_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_slot_length</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L147-L155"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.test_slot_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the <em>slotLength</em> configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_configuration.check_epoch_length">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">check_epoch_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_obj</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L116-L127"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.check_epoch_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_configuration.cluster_epoch_length">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">cluster_epoch_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">epoch_length_start_cluster</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L98-L104"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.cluster_epoch_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_configuration.cluster_slot_length">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">cluster_slot_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">slot_length_start_cluster</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L107-L113"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.cluster_slot_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_configuration.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L21-L26"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_configuration.epoch_length_start_cluster">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">epoch_length_start_cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span> &#x2192; pathlib.Path<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L40-L66"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.epoch_length_start_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <em>epochLength</em> to 1200.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_configuration.slot_length_start_cluster">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">slot_length_start_cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span> &#x2192; pathlib.Path<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L69-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.slot_length_start_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <em>slotLength</em> to 0.3.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_configuration.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_configuration.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_configuration.py#L29-L33"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_dbsync">
<span id="cardano-node-tests-tests-test-dbsync-module"></span><h2>cardano_node_tests.tests.test_dbsync module<a class="headerlink" href="#module-cardano_node_tests.tests.test_dbsync" title="Permalink to this headline">¶</a></h2>
<p>Tests for db-sync.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_dbsync.TestDBSync">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_dbsync.</code><code class="sig-name descname">TestDBSync</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_dbsync.py#L36-L194"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General db-sync tests.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_dbsync.TestDBSync.DBSYNC_TABLES">
<code class="sig-name descname">DBSYNC_TABLES</code><em class="property"> = {'ada_pots', 'admin_user', 'block', 'collateral_tx_in', 'cost_model', 'datum', 'delegation', 'delisted_pool', 'epoch', 'epoch_param', 'epoch_reward_total_received', 'epoch_stake', 'epoch_sync_time', 'ma_tx_mint', 'ma_tx_out', 'meta', 'multi_asset', 'param_proposal', 'pool_hash', 'pool_metadata_ref', 'pool_offline_data', 'pool_offline_fetch_error', 'pool_owner', 'pool_relay', 'pool_retire', 'pool_update', 'pot_transfer', 'redeemer', 'reserve', 'reserved_pool_ticker', 'reward', 'schema_version', 'script', 'slot_leader', 'stake_address', 'stake_deregistration', 'stake_registration', 'treasury', 'tx', 'tx_in', 'tx_metadata', 'tx_out', 'withdrawal'}</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_dbsync.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.DBSYNC_TABLES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_blocks">
<code class="sig-name descname">test_blocks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_dbsync.py#L96-L194"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Check expected values in the <cite>block</cite> table in db-sync.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_table_names">
<code class="sig-name descname">test_table_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_dbsync.py#L85-L94"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_table_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all the expected tables are present in db-sync.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_dbsync.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_dbsync.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_dbsync.py#L17-L22"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_dbsync.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_dbsync.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_dbsync.py#L25-L29"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_delegation">
<span id="cardano-node-tests-tests-test-delegation-module"></span><h2>cardano_node_tests.tests.test_delegation module<a class="headerlink" href="#module-cardano_node_tests.tests.test_delegation" title="Permalink to this headline">¶</a></h2>
<p>Tests for stake address registration and delegation.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">TestDelegateAddr</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L94-L685"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for address delegation to stake pools.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='order', args=(3,), kwargs={}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_delegation_deregistration">
<code class="sig-name descname">test_addr_delegation_deregistration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users_disposable</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L556-L685"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_delegation_deregistration" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit delegation and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>create stake address registration cert</p></li>
<li><p>create stake address deregistration cert</p></li>
<li><p>register stake address</p></li>
<li><p>create stake address delegation cert</p></li>
<li><p>delegate and deregister stake address in single TX</p></li>
<li><p>check that the balance for source address was correctly updated and that the key
deposit was returned</p></li>
<li><p>check that the stake address was NOT delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_registration_deregistration">
<code class="sig-name descname">test_addr_registration_deregistration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users_disposable</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L470-L554"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_registration_deregistration" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit registration and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>create stake address registration cert</p></li>
<li><p>create stake address deregistration cert</p></li>
<li><p>register and deregister stake address in single TX</p></li>
<li><p>check that the balance for source address was correctly updated and that key deposit
was not needed</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_pool_id">
<code class="sig-name descname">test_delegate_using_pool_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L99-L151"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_pool_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit registration certificate and delegate to pool using pool id.</p>
<ul class="simple">
<li><p>register stake address and delegate it to pool</p></li>
<li><p>check that the stake address was delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_vkey">
<code class="sig-name descname">test_delegate_using_vkey</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_use_pool1</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L153-L211"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_vkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit registration certificate and delegate to pool using cold vkey.</p>
<ul class="simple">
<li><p>register stake address and delegate it to pool</p></li>
<li><p>check that the stake address was delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_deregister">
<code class="sig-name descname">test_deregister</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L213-L333"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_deregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Deregister stake address.</p>
<ul class="simple">
<li><p>submit registration certificate and delegate to pool</p></li>
<li><p>attempt to deregister the stake address - deregistration is expected to fail
because there are rewards in the stake address</p></li>
<li><p>withdraw rewards to payment address and deregister stake address</p></li>
<li><p>check that the key deposit was returned and rewards withdrawn</p></li>
<li><p>check that the stake address is no longer delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_undelegate">
<code class="sig-name descname">test_undelegate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L335-L468"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_undelegate" title="Permalink to this definition">¶</a></dt>
<dd><p>Undelegate stake address.</p>
<ul>
<li><p>submit registration certificate and delegate to pool</p></li>
<li><p>wait for first reward</p></li>
<li><p>undelegate stake address:</p>
<blockquote>
<div><ul class="simple">
<li><p>withdraw rewards to payment address</p></li>
<li><p>deregister stake address</p></li>
<li><p>re-register stake address</p></li>
</ul>
</div></blockquote>
</li>
<li><p>check that the key deposit was not returned</p></li>
<li><p>check that rewards were withdrawn</p></li>
<li><p>check that the stake address is still registered</p></li>
<li><p>check that the stake address is no longer delegated</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">TestNegative</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L688-L1041"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests that are expected to fail.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_addr_with_wrong_key">
<code class="sig-name descname">test_delegate_addr_with_wrong_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users_disposable</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L766-L816"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_addr_with_wrong_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to delegate stake address using wrong payment skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_deregistered_addr">
<code class="sig-name descname">test_delegate_deregistered_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users_disposable</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L885-L982"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_deregistered_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to delegate deregistered stake address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_unknown_addr">
<code class="sig-name descname">test_delegate_unknown_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users_disposable</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L818-L883"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_unknown_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to delegate unknown stake address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegation_cert_with_wrong_key">
<code class="sig-name descname">test_delegation_cert_with_wrong_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L711-L731"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegation_cert_with_wrong_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to generate stake address delegation certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.test_deregister_not_registered_addr">
<code class="sig-name descname">test_deregister_not_registered_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users_disposable</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L984-L1041"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_deregister_not_registered_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Deregister not registered stake address.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.test_register_addr_with_wrong_key">
<code class="sig-name descname">test_register_addr_with_wrong_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_users_disposable</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L733-L764"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_register_addr_with_wrong_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to register stake address using wrong payment skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_delegation.TestNegative.test_registration_cert_with_wrong_key">
<code class="sig-name descname">test_registration_cert_with_wrong_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L692-L709"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_registration_cert_with_wrong_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to generate stake address registration certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_delegation.cluster_and_pool">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">cluster_and_pool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L42-L46"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.cluster_and_pool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_delegation.cluster_use_pool1">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">cluster_use_pool1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L49-L51"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.cluster_use_pool1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_delegation.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L23-L28"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_delegation.pool_users">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">pool_users</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L54-L78"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_delegation.pool_users_disposable">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">pool_users_disposable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L81-L91"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users_disposable" title="Permalink to this definition">¶</a></dt>
<dd><p>Create function scoped pool users.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_delegation.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_delegation.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_delegation.py#L31-L35"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_governance">
<span id="cardano-node-tests-tests-test-governance-module"></span><h2>cardano_node_tests.tests.test_governance module<a class="headerlink" href="#module-cardano_node_tests.tests.test_governance" title="Permalink to this headline">¶</a></h2>
<p>Tests for governance.</p>
<ul class="simple">
<li><p>update proposals</p></li>
<li><p>MIR certificates</p></li>
</ul>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_governance.</code><code class="sig-name descname">TestMIRCerts</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L351-L1016"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for MIR certificates.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.RESERVES">
<code class="sig-name descname">RESERVES</code><em class="property"> = 'reserves'</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.RESERVES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.TREASURY">
<code class="sig-name descname">TREASURY</code><em class="property"> = 'treasury'</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.TREASURY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.cluster_pots">
<code class="sig-name descname">cluster_pots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L357-L367"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.cluster_pots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.pool_users">
<code class="sig-name descname">pool_users</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L369-L394"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.pool_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pool user.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.registered_user">
<code class="sig-name descname">registered_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.PoolUser<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L396-L414"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.registered_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Register pool user’s stake address.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_build_pay_stake_addr_from">
<code class="sig-name descname">test_build_pay_stake_addr_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">registered_user</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolUser</span></em>, <em class="sig-param"><span class="n">fund_src</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L760-L842"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_build_pay_stake_addr_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from the reserves or treasury pot to stake address.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>generate an MIR certificate</p></li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>check that the expected amount was added to the stake address reward account</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_build_transfer_to_reserves">
<code class="sig-name descname">test_build_transfer_to_reserves</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L620-L684"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_build_transfer_to_reserves" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from the treasury pot to the reserves pot.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_build_transfer_to_treasury">
<code class="sig-name descname">test_build_transfer_to_treasury</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L485-L549"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_build_transfer_to_treasury" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from the reserves pot to the treasury pot.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_exceed_pay_stake_addr_from">
<code class="sig-name descname">test_exceed_pay_stake_addr_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">registered_user</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolUser</span></em>, <em class="sig-param"><span class="n">fund_src</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L844-L894"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_exceed_pay_stake_addr_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send more funds than available from the reserves or treasury pot to stake address.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>generate an MIR certificate</p></li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>check that submitting the transaction fails with an expected error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_pay_stake_addr_from">
<code class="sig-name descname">test_pay_stake_addr_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">registered_user</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolUser</span></em>, <em class="sig-param"><span class="n">fund_src</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L686-L758"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_pay_stake_addr_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from the reserves or treasury pot to stake address.</p>
<ul class="simple">
<li><p>generate an MIR certificate</p></li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>check that the expected amount was added to the stake address reward account</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_pay_unregistered_stake_addr_from">
<code class="sig-name descname">test_pay_unregistered_stake_addr_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">fund_src</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">addr_history</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L896-L1016"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_pay_unregistered_stake_addr_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from the reserves or treasury pot to unregistered stake address.</p>
<ul class="simple">
<li><p>generate an MIR certificate</p></li>
<li><dl class="simple">
<dt>if a stake address should be known on blockchain:</dt><dd><ul>
<li><p>register the stake address</p></li>
<li><p>if transfering funds from treasury, deregister the stake address
BEFORE submitting the TX</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>submit a TX with the MIR certificate</p></li>
<li><p>if a stake address should be known on blockchain and if transfering funds from reserves,
deregister the stake address AFTER submitting the TX</p></li>
<li><p>check that the amount was NOT added to the stake address reward account</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_transfer_to_reserves">
<code class="sig-name descname">test_transfer_to_reserves</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L551-L618"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_transfer_to_reserves" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from the treasury pot to the reserves pot.</p>
<p>Expected to fail when Era &lt; Alonzo.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestMIRCerts.test_transfer_to_treasury">
<code class="sig-name descname">test_transfer_to_treasury</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L416-L483"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestMIRCerts.test_transfer_to_treasury" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from the reserves pot to the treasury pot.</p>
<p>Expected to fail when Era &lt; Alonzo.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_governance.TestUpdateProposal">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_governance.</code><code class="sig-name descname">TestUpdateProposal</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L62-L348"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestUpdateProposal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for update proposal.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestUpdateProposal.cluster_update_proposal">
<code class="sig-name descname">cluster_update_proposal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L66-L71"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestUpdateProposal.cluster_update_proposal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestUpdateProposal.payment_addr">
<code class="sig-name descname">payment_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_update_proposal</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.AddressRecord<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L73-L99"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestUpdateProposal.payment_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_governance.TestUpdateProposal.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='order', args=(3,), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestUpdateProposal.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_governance.TestUpdateProposal.test_update_proposal">
<code class="sig-name descname">test_update_proposal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_update_proposal</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L101-L348"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.TestUpdateProposal.test_update_proposal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test changing protocol parameters using update proposal.</p>
<ul>
<li><p>if era &gt;= Alonzo, update Alonzo-speciffic parameters and:</p>
<blockquote>
<div><ul class="simple">
<li><p>wait for next epoch</p></li>
<li><p>check that parameters were updated</p></li>
</ul>
</div></blockquote>
</li>
<li><p>submit update proposal</p></li>
<li><p>in the same epoch, submit another update proposal</p></li>
<li><p>wait for next epoch</p></li>
<li><p>check that parameters were updated with the values submitted in the second
update proposal, i.e. the second update proposal overwritten the first one</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_governance.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_governance.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L27-L32"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_governance.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_governance.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_governance.py#L35-L39"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_governance.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_kes">
<span id="cardano-node-tests-tests-test-kes-module"></span><h2>cardano_node_tests.tests.test_kes module<a class="headerlink" href="#module-cardano_node_tests.tests.test_kes" title="Permalink to this headline">¶</a></h2>
<p>Tests for KES period.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_kes.TestKES">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_kes.</code><code class="sig-name descname">TestKES</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L98-L371"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for KES period.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_kes.TestKES.test_expired_kes">
<code class="sig-name descname">test_expired_kes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_kes</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">worker_id</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L101-L131"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_expired_kes" title="Permalink to this definition">¶</a></dt>
<dd><p>Test expired KES.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_kes.TestKES.test_no_kes_period_arg">
<code class="sig-name descname">test_no_kes_period_arg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L333-L371"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_no_kes_period_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to generate new operational certificate without specifying the <cite>–kes-period</cite>.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_kes.TestKES.test_opcert_future_kes_period">
<code class="sig-name descname">test_opcert_future_kes_period</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_pool2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L133-L247"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_opcert_future_kes_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a stake pool with an operational certificate created with invalid <cite>–kes-period</cite>.</p>
<ul class="simple">
<li><p>generate new operational certificate with <cite>–kes-period</cite> in the future</p></li>
<li><p>restart the node with the new operational certificate</p></li>
<li><p>check that the pool is not producing any blocks</p></li>
<li><p>generate new operational certificate with valid <cite>–kes-period</cite> and restart the node</p></li>
<li><p>check that the pool is producing blocks again</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_kes.TestKES.test_update_valid_opcert">
<code class="sig-name descname">test_update_valid_opcert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_pool2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L249-L331"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_update_valid_opcert" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a valid operational certificate with another valid operational certificate.</p>
<ul class="simple">
<li><p>generate new operational certificate with valid <cite>–kes-period</cite></p></li>
<li><p>restart the node with the new operational certificate</p></li>
<li><p>check that the pool is still producing blocks</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_kes.cluster_kes">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_kes.</code><code class="sig-name descname">cluster_kes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">short_kes_start_cluster</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L91-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.cluster_kes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_kes.cluster_lock_pool2">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_kes.</code><code class="sig-name descname">cluster_lock_pool2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L48-L50"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.cluster_lock_pool2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_kes.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_kes.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L29-L34"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_kes.short_kes_start_cluster">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_kes.</code><code class="sig-name descname">short_kes_start_cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span> &#x2192; pathlib.Path<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L53-L88"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.short_kes_start_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <em>slotsPerKESPeriod</em> and <em>maxKESEvolutions</em>.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_kes.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_kes.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_kes.py#L37-L41"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_ledger_state">
<span id="cardano-node-tests-tests-test-ledger-state-module"></span><h2>cardano_node_tests.tests.test_ledger_state module<a class="headerlink" href="#module-cardano_node_tests.tests.test_ledger_state" title="Permalink to this headline">¶</a></h2>
<p>Tests for ledger state.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_ledger_state.TestLedgerState">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_ledger_state.</code><code class="sig-name descname">TestLedgerState</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_ledger_state.py#L46-L57"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.TestLedgerState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for ledger state.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_ledger_state.TestLedgerState.test_ledger_state_keys">
<code class="sig-name descname">test_ledger_state_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_ledger_state.py#L49-L57"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.TestLedgerState.test_ledger_state_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Check output of <cite>query ledger-state</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_ledger_state.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_ledger_state.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_ledger_state.py#L17-L22"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_ledger_state.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_ledger_state.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_ledger_state.py#L25-L29"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_metrics">
<span id="cardano-node-tests-tests-test-metrics-module"></span><h2>cardano_node_tests.tests.test_metrics module<a class="headerlink" href="#module-cardano_node_tests.tests.test_metrics" title="Permalink to this headline">¶</a></h2>
<p>Tests for Prometheus and EKG metrics.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_metrics.TestEKG">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_metrics.</code><code class="sig-name descname">TestEKG</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L150-L171"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>EKG metrics tests.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_metrics.TestEKG.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': &quot;different TX eras doesn't affect this test, pointless to run&quot;})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_metrics.TestEKG.test_available_metrics">
<code class="sig-name descname">test_available_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wait_epochs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L157-L171"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG.test_available_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that available EKG metrics matches the expected schema.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_metrics.TestPrometheus">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_metrics.</code><code class="sig-name descname">TestPrometheus</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L123-L147"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prometheus metrics tests.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_metrics.TestPrometheus.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': &quot;different TX eras doesn't affect this test, pointless to run&quot;})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_metrics.TestPrometheus.test_available_metrics">
<code class="sig-name descname">test_available_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wait_epochs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L130-L147"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.test_available_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that list of available metrics == list of expected metrics.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_metrics.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_metrics.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L23-L28"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_metrics.get_ekg_metrics">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_metrics.</code><code class="sig-name descname">get_ekg_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">port</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; requests.models.Response<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L114-L120"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.get_ekg_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_metrics.get_prometheus_metrics">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_metrics.</code><code class="sig-name descname">get_prometheus_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">port</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; requests.models.Response<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L108-L111"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.get_prometheus_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_metrics.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_metrics.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L31-L35"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_metrics.wait_epochs">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_metrics.</code><code class="sig-name descname">wait_epochs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_metrics.py#L100-L105"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.wait_epochs" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure we are not checking metrics in epoch &lt; 4.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_native_tokens">
<span id="cardano-node-tests-tests-test-native-tokens-module"></span><h2>cardano_node_tests.tests.test_native_tokens module<a class="headerlink" href="#module-cardano_node_tests.tests.test_native_tokens" title="Permalink to this headline">¶</a></h2>
<p>Tests for native tokens.</p>
<ul class="simple">
<li><p>minting</p></li>
<li><p>burning</p></li>
<li><p>locking</p></li>
<li><p>transactions</p></li>
</ul>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">TestMinting</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L169-L1043"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting and burning tokens.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Mary+ TX'}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_sign">
<code class="sig-name descname">test_bundle_minting_and_burning_sign</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">simple_script_policyid</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>pathlib.Path<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">tokens_db</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L767-L859"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and burning multiple different tokens that are in single bundle.</p>
<p>Sign the TX using skeys.</p>
<ul class="simple">
<li><p>mint several tokens using a single script</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_witnesses">
<code class="sig-name descname">test_bundle_minting_and_burning_witnesses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">multisig_script_policyid</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>pathlib.Path<span class="p">, </span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">tokens_db</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L670-L765"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_witnesses" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and burning multiple different tokens that are in single bundle.</p>
<p>Sign the TX using witnesses.</p>
<ul class="simple">
<li><p>mint several tokens using a single script</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_sign">
<code class="sig-name descname">test_minting_and_burning_sign</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">aname_type</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L294-L380"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and burning of tokens, sign the transaction using skeys.</p>
<ul class="simple">
<li><p>mint 2 tokens - one itentified by policyid + asset name
and one identified by just policyid</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_witnesses">
<code class="sig-name descname">test_minting_and_burning_witnesses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs_fresh</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">aname_type</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L177-L292"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_witnesses" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and burning of tokens, sign the transaction using witnesses.</p>
<ul class="simple">
<li><p>mint 2 tokens - one itentified by policyid + asset name
and one identified by just policyid</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check fees in Lovelace</p></li>
<li><p>check output of the <cite>transaction view</cite> command</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_partial_burning">
<code class="sig-name descname">test_minting_and_partial_burning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs_fresh</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L861-L963"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_partial_burning" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and partial burning of tokens.</p>
<ul class="simple">
<li><p>mint a token</p></li>
<li><p>burn part of the minted token, check the expected amount</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_diff_tokens_single_tx">
<code class="sig-name descname">test_minting_burning_diff_tokens_single_tx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L493-L586"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_diff_tokens_single_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting one token and burning other token in single transaction.</p>
<p>Sign transactions using skeys.</p>
<ul class="simple">
<li><p>create a script</p></li>
<li><p>1st TX - mint first token</p></li>
<li><p>2nd TX - mint second token, burn first token</p></li>
<li><p>3rd TX - burn second token</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_same_token_single_tx">
<code class="sig-name descname">test_minting_burning_same_token_single_tx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L588-L668"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_same_token_single_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting one token and burning the same token in single transaction.</p>
<p>Sign transactions using skeys.</p>
<ul class="simple">
<li><p>create a script</p></li>
<li><p>specify amount to mint and amount to burn in the same transaction</p></li>
<li><p>check that the expected amount was minted (to_mint_amount - to_burn_amount)</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_multiple_scripts">
<code class="sig-name descname">test_minting_multiple_scripts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L382-L491"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_multiple_scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting of tokens using several different scripts in single transaction.</p>
<ul class="simple">
<li><p>create tokens issuers</p></li>
<li><p>create a script for each issuer</p></li>
<li><p>mint 2 tokens with each script - one itentified by policyid + asset name
and one identified by just policyid. The minting is done in single transaction,
the transaction is signed using skeys.</p></li>
<li><p>check that the tokens were minted</p></li>
<li><p>burn the minted tokens</p></li>
<li><p>check that the tokens were burnt</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_unicode_asset_name">
<code class="sig-name descname">test_minting_unicode_asset_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L965-L1043"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_unicode_asset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and burning of token with unicode non-ascii chars in its asset name.</p>
<p>Tests <a class="reference external" href="https://github.com/input-output-hk/cardano-node/issues/2337">https://github.com/input-output-hk/cardano-node/issues/2337</a></p>
<ul class="simple">
<li><p>mint a token that has non-ascii characters in its asset name</p></li>
<li><p>burn the minted token</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_native_tokens.TestNegative">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">TestNegative</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1889-L1979"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Negative tests for minting tokens.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_native_tokens.TestNegative.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Mary+ TX'}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestNegative.test_long_name">
<code class="sig-name descname">test_long_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">simple_script_policyid</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>pathlib.Path<span class="p">, </span>str<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1933-L1979"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.test_long_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create token with asset name that is longer than allowed.</p>
<p>The name can also contain characters that are not allowed. Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">TestPolicies</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1046-L1521"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting and burning tokens using minting policies.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Mary+ TX'}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_future">
<code class="sig-name descname">test_policy_after_future</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1388-L1459"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_future" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the policy is not met.</p>
<p>The “after” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_past">
<code class="sig-name descname">test_policy_after_past</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1461-L1521"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_past" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the policy is not met.</p>
<p>The “after” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_future">
<code class="sig-name descname">test_policy_before_future</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1326-L1386"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_future" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the policy is not met.</p>
<p>The “before” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_past">
<code class="sig-name descname">test_policy_before_past</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1256-L1324"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_past" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that it’s NOT possible to mint tokens when the “before” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_after">
<code class="sig-name descname">test_valid_policy_after</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs_fresh</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1054-L1152"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and burning of tokens after a given slot, check fees in Lovelace.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_before">
<code class="sig-name descname">test_valid_policy_before</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs_fresh</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1154-L1254"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting and burning of tokens before a given slot, check fees in Lovelace.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_native_tokens.TestTransfer">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">TestTransfer</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1524-L1886"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transfering tokens.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestTransfer.new_token">
<code class="sig-name descname">new_token</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord">cardano_node_tests.utils.clusterlib_utils.TokenRecord</a><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1561-L1588"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.new_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestTransfer.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1532-L1559"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_native_tokens.TestTransfer.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Mary+ TX'}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_multiple_tokens">
<code class="sig-name descname">test_transfer_multiple_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">new_token</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord">cardano_node_tests.utils.clusterlib_utils.TokenRecord</a></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1687-L1826"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_multiple_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Test sending multiple different tokens to payment addresses.</p>
<ul class="simple">
<li><p>send multiple different tokens from 1 source address to 2 destination addresses</p></li>
<li><p>check expected token balances for both source and destination addresses for each token</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_no_ada">
<code class="sig-name descname">test_transfer_no_ada</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">new_token</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord">cardano_node_tests.utils.clusterlib_utils.TokenRecord</a></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1828-L1886"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_no_ada" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create an UTxO with just native tokens, no ADA. Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_tokens">
<code class="sig-name descname">test_transfer_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">new_token</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.TokenRecord" title="cardano_node_tests.utils.clusterlib_utils.TokenRecord">cardano_node_tests.utils.clusterlib_utils.TokenRecord</a></span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L1590-L1685"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Test sending tokens to payment address.</p>
<ul class="simple">
<li><p>send tokens from 1 source address to 1 destination address</p></li>
<li><p>check expected token balances for both source and destination addresses</p></li>
<li><p>check fees in Lovelace</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_native_tokens.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L33-L38"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_native_tokens.issuers_addrs">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">issuers_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L91-L115"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.issuers_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new issuers addresses.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_native_tokens.issuers_addrs_fresh">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">issuers_addrs_fresh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L52-L88"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.issuers_addrs_fresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new issuers addresses.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_native_tokens.multisig_script_policyid">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">multisig_script_policyid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>pathlib.Path<span class="p">, </span>str<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L144-L166"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.multisig_script_policyid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return multisig script and it’s PolicyId.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_native_tokens.simple_script_policyid">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">simple_script_policyid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">issuers_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>pathlib.Path<span class="p">, </span>str<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L118-L141"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.simple_script_policyid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return script and its PolicyId.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_native_tokens.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_native_tokens.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_native_tokens.py#L41-L45"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_plutus_mint_build">
<span id="cardano-node-tests-tests-test-plutus-mint-build-module"></span><h2>cardano_node_tests.tests.test_plutus_mint_build module<a class="headerlink" href="#module-cardano_node_tests.tests.test_plutus_mint_build" title="Permalink to this headline">¶</a></h2>
<p>Tests for minting with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_build.</code><code class="sig-name descname">TestBuildMinting</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L69-L733"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting using Plutus smart contracts and <cite>transaction build</cite>.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': &quot;cannot use `build` with cluster era 'alonzo` and TX era 'alonzo'&quot;}), Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Alonzo+ TX'})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_minting">
<code class="sig-name descname">test_minting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L77-L193"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_minting" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a plutus script.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>mint the token using a plutus script</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_minting_context_equivalance">
<code class="sig-name descname">test_minting_context_equivalance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L327-L487"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_minting_context_equivalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test context equivalence while minting a token.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>generate a dummy redeemer and a dummy Tx</p></li>
<li><p>derive the correct redeemer from the dummy Tx</p></li>
<li><p>mint the token using the derived redeemer</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_time_range_minting">
<code class="sig-name descname">test_time_range_minting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L195-L325"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_time_range_minting" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a time constraints plutus script.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>mint the token using a plutus script</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_witness_redeemer">
<code class="sig-name descname">test_witness_redeemer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L489-L622"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_witness_redeemer" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a plutus script.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>mint the token using a plutus script with required signer</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_witness_redeemer_missing_signer">
<code class="sig-name descname">test_witness_redeemer_missing_signer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L624-L733"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.TestBuildMinting.test_witness_redeemer_missing_signer" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a plutus script.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>mint the token using a plutus script with required signer</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_build.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L24-L29"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.payment_addrs">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_build.</code><code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L43-L66"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_mint_build.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_build.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_build.py#L32-L36"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_build.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_plutus_mint_raw">
<span id="cardano-node-tests-tests-test-plutus-mint-raw-module"></span><h2>cardano_node_tests.tests.test_plutus_mint_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.test_plutus_mint_raw" title="Permalink to this headline">¶</a></h2>
<p>Tests for minting with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.TestMinting">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_raw.</code><code class="sig-name descname">TestMinting</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L68-L768"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.TestMinting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting using Plutus smart contracts.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Alonzo+ TX'})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_minting">
<code class="sig-name descname">test_minting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L75-L198"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_minting" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a plutus script.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>mint the token using a plutus script</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_minting_context_equivalance">
<code class="sig-name descname">test_minting_context_equivalance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L598-L768"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_minting_context_equivalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test context equivalence while minting a token.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>generate a dummy redeemer and a dummy Tx</p></li>
<li><p>derive the correct redeemer from the dummy Tx</p></li>
<li><p>mint the token using the derived redeemer</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_time_range_minting">
<code class="sig-name descname">test_time_range_minting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L460-L596"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_time_range_minting" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a time constraints plutus script.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>mint the token using a plutus script</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_witness_redeemer">
<code class="sig-name descname">test_witness_redeemer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L200-L339"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_witness_redeemer" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a plutus script.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>mint the token using a plutus script with required signer</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_witness_redeemer_missing_signer">
<code class="sig-name descname">test_witness_redeemer_missing_signer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L341-L458"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.TestMinting.test_witness_redeemer_missing_signer" title="Permalink to this definition">¶</a></dt>
<dd><p>Test minting a token with a plutus script.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>fund the token issuer and create a UTxO for collateral</p></li>
<li><p>check that the expected amount was transferred to token issuer’s address</p></li>
<li><p>try to mint the token using a plutus script and a TX with signing key missing for
the required signer</p></li>
<li><p>check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_raw.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L23-L28"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.payment_addrs">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_raw.</code><code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L42-L65"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_mint_raw.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_mint_raw.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_mint_raw.py#L31-L35"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_mint_raw.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_plutus_spend_build">
<span id="cardano-node-tests-tests-test-plutus-spend-build-module"></span><h2>cardano_node_tests.tests.test_plutus_spend_build module<a class="headerlink" href="#module-cardano_node_tests.tests.test_plutus_spend_build" title="Permalink to this headline">¶</a></h2>
<p>Tests for spending with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">TestBuildLocking</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L428-L1120"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for txin locking using Plutus smart contracts and <cite>transaction build</cite>.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': &quot;cannot use `build` with cluster era 'alonzo` and TX era 'alonzo'&quot;}), Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Alonzo+ TX'})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_always_fails">
<code class="sig-name descname">test_always_fails</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_fails</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_fails</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L675-L723"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_always_fails" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Test with with “always fails” script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>try to spend the locked UTxO</p></li>
<li><p>check that the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_collateral_is_txin">
<code class="sig-name descname">test_collateral_is_txin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L1018-L1120"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_collateral_is_txin" title="Permalink to this definition">¶</a></dt>
<dd><p>Test spending the locked UTxO while using single UTxO for both collateral and Tx input.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Tests bug <a class="reference external" href="https://github.com/input-output-hk/cardano-db-sync/issues/750">https://github.com/input-output-hk/cardano-db-sync/issues/750</a></p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address and a collateral UTxO</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>spend the locked UTxO while using the collateral UTxO both as collateral and as
normal Tx input</p></li>
<li><p>check that the expected amount was spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_collateral_w_tokens">
<code class="sig-name descname">test_collateral_w_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L836-L899"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_collateral_w_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Test spending the locked UTxO while collateral contains native tokens.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>create a collateral UTxO with native tokens</p></li>
<li><p>try to spend the locked UTxO</p></li>
<li><p>check that the expected error was raised</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_context_equivalance">
<code class="sig-name descname">test_context_equivalance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_context_eq</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users_lock_context_eq</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L488-L592"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_context_equivalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test context equivalence while spending a locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>generate a dummy redeemer and a dummy Tx</p></li>
<li><p>derive the correct redeemer from the dummy Tx</p></li>
<li><p>spend the locked UTxO using the derived redeemer</p></li>
<li><p>check that the expected amount was spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_guessing_game">
<code class="sig-name descname">test_guessing_game</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_guessing_game</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_guessing_game</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">script</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L594-L673"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_guessing_game" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Test with with “guessing game” script that expects specific datum and redeemer value.
Test also negative scenarios where datum or redeemer value is different than expected.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>spend the locked UTxO</p></li>
<li><p>check that the expected amount was spent when success is expected</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_no_datum_txin">
<code class="sig-name descname">test_no_datum_txin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L953-L1016"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_no_datum_txin" title="Permalink to this definition">¶</a></dt>
<dd><p>Test using UTxO without datum hash in place of locked UTxO.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>create a Tx ouput without a datum hash</p></li>
<li><p>try to spend the UTxO like it was locked Plutus UTxO</p></li>
<li><p>check that the expected error was raised</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_same_collateral_txin">
<code class="sig-name descname">test_same_collateral_txin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L901-L951"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_same_collateral_txin" title="Permalink to this definition">¶</a></dt>
<dd><p>Test spending the locked UTxO while using the same UTxO as collateral.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>try to spend the locked UTxO while using the same UTxO as collateral</p></li>
<li><p>check that the expected error was raised</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_script_invalid">
<code class="sig-name descname">test_script_invalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_fails</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_fails</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L725-L772"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_script_invalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Test failing script together with the <cite>–script-invalid</cite> argument - collateral is taken.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Test with with “always fails” script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>try to spend the locked UTxO</p></li>
<li><p>check that the amount was not transferred and collateral UTxO was spent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_txin_locking">
<code class="sig-name descname">test_txin_locking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L436-L486"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_txin_locking" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Corresponds to Exercise 3 for Alonzo Blue.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>spend the locked UTxO</p></li>
<li><p>check that the expected amount was spent when success is expected</p></li>
<li><p>OR check that the amount was not transferred and collateral UTxO was spent
when failure is expected</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_txin_token_locking">
<code class="sig-name descname">test_txin_token_locking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L774-L834"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.TestBuildLocking.test_txin_token_locking" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>create a Tx ouput that contains native tokens with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>spend the locked UTxO</p></li>
<li><p>check that the expected amount was spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_always_fails">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">cluster_lock_always_fails</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L173-L182"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_always_fails" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one txin plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_always_suceeds">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">cluster_lock_always_suceeds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L44-L53"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_always_suceeds" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one txin plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_context_eq">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">cluster_lock_context_eq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L131-L140"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_context_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one guessing game plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_guessing_game">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">cluster_lock_guessing_game</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L88-L97"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.cluster_lock_guessing_game" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one guessing game plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L25-L30"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.payment_addrs_lock_always_fails">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">payment_addrs_lock_always_fails</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_always_fails</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L185-L213"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.payment_addrs_lock_always_fails" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address while using the <cite>cluster_lock_always_fails</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.payment_addrs_lock_always_suceeds">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">payment_addrs_lock_always_suceeds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L56-L85"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.payment_addrs_lock_always_suceeds" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address while using the <cite>cluster_lock_always_suceeds</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.payment_addrs_lock_guessing_game">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">payment_addrs_lock_guessing_game</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_guessing_game</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L100-L128"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.payment_addrs_lock_guessing_game" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address while using the <cite>cluster_lock_guessing_game</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.pool_users_lock_context_eq">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">pool_users_lock_context_eq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_context_eq</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L143-L170"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.pool_users_lock_context_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new pool users while using the <cite>cluster_lock_context_eq</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_build.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_build.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_build.py#L33-L37"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_build.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_plutus_spend_raw">
<span id="cardano-node-tests-tests-test-plutus-spend-raw-module"></span><h2>cardano_node_tests.tests.test_plutus_spend_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.test_plutus_spend_raw" title="Permalink to this headline">¶</a></h2>
<p>Tests for spending with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">TestLocking</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L448-L1190"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for txin locking using Plutus smart contracts.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Alonzo+ TX'})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_always_fails">
<code class="sig-name descname">test_always_fails</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_fails</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_fails</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L691-L739"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_always_fails" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<p>Test with with “always fails” script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>try to spend the locked UTxO</p></li>
<li><p>check that the amount was not transferred, collateral UTxO was not spent
and the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_collateral_percent">
<code class="sig-name descname">test_collateral_percent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L1138-L1190"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_collateral_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to spend locked UTxO while collateral is less than required by <cite>collateralPercentage</cite>.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>create a collateral UTxO with amount of ADA less than required by <cite>collateralPercentage</cite></p></li>
<li><p>try to spend the UTxO</p></li>
<li><p>check that the expected error was raised</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_collateral_w_tokens">
<code class="sig-name descname">test_collateral_w_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L850-L912"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_collateral_w_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Test spending the locked UTxO while collateral contains native tokens.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>create a collateral UTxO with native tokens</p></li>
<li><p>try to spend the locked UTxO</p></li>
<li><p>check that the expected error was raised</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_collaterals">
<code class="sig-name descname">test_collaterals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">scenario</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L1029-L1136"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_collaterals" title="Permalink to this definition">¶</a></dt>
<dd><p>Test dividing required collateral amount into multiple collateral UTxOs.</p>
<p>Test 3 scenarios:
1. maximum allowed number of collateral inputs
2. more collateral inputs than what is allowed
3. no collateral input</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>create multiple UTxOs for collateral</p></li>
<li><p>spend the locked UTxO</p></li>
<li><p>check that the expected amount was spent when success is expected</p></li>
<li><p>OR check that the amount was not transferred and collateral UTxO was not spent
when failure is expected</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_context_equivalance">
<code class="sig-name descname">test_context_equivalance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_context_eq</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users_lock_context_eq</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L504-L607"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_context_equivalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Test context equivalence while spending a locked UTxO.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>generate a dummy redeemer and a dummy Tx</p></li>
<li><p>derive the correct redeemer from the dummy Tx</p></li>
<li><p>spend the locked UTxO using the derived redeemer</p></li>
<li><p>check that the expected amount was spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_guessing_game">
<code class="sig-name descname">test_guessing_game</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_guessing_game</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_guessing_game</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">script</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L609-L689"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_guessing_game" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<p>Test with with “guessing game” script that expects specific datum and redeemer value.
Test also negative scenarios where datum or redeemer value is different than expected.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>spend the locked UTxO</p></li>
<li><p>check that the expected amount was spent when success is expected</p></li>
<li><p>OR check that the amount was not transferred and collateral UTxO was not spent
when failure is expected</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_no_datum_txin">
<code class="sig-name descname">test_no_datum_txin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L965-L1027"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_no_datum_txin" title="Permalink to this definition">¶</a></dt>
<dd><p>Test using UTxO without datum hash in place of locked UTxO.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>create a Tx ouput without a datum hash</p></li>
<li><p>try to spend the UTxO like it was locked Plutus UTxO</p></li>
<li><p>check that the expected error was raised</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_same_collateral_txin">
<code class="sig-name descname">test_same_collateral_txin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L914-L963"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_same_collateral_txin" title="Permalink to this definition">¶</a></dt>
<dd><p>Test spending the locked UTxO while using the same UTxO as collateral.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>try to spend the locked UTxO while using the same UTxO as collateral</p></li>
<li><p>check that the expected error was raised</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_script_invalid">
<code class="sig-name descname">test_script_invalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_fails</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_fails</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L741-L787"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_script_invalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Test failing script together with the <cite>–script-invalid</cite> argument - collateral is taken.</p>
<p>Test with with “always fails” script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>try to spend the locked UTxO</p></li>
<li><p>check that the amount was not transferred and collateral UTxO was spent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_txin_locking">
<code class="sig-name descname">test_txin_locking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L455-L502"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_txin_locking" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<p>Corresponds to Exercise 3 for Alonzo Blue.</p>
<ul class="simple">
<li><p>create a Tx ouput with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>spend the locked UTxO</p></li>
<li><p>check that the expected amount was spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_txin_token_locking">
<code class="sig-name descname">test_txin_token_locking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_lock_always_suceeds</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L789-L848"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.TestLocking.test_txin_token_locking" title="Permalink to this definition">¶</a></dt>
<dd><p>Test locking a Tx output with a plutus script and spending the locked UTxO.</p>
<ul class="simple">
<li><p>create a Tx ouput that contains native tokens with a datum hash at the script address</p></li>
<li><p>check that the expected amount was locked at the script address</p></li>
<li><p>spend the locked UTxO</p></li>
<li><p>check that the expected amount was spent</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_always_fails">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">cluster_lock_always_fails</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L173-L182"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_always_fails" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one txin plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_always_suceeds">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">cluster_lock_always_suceeds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L44-L53"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_always_suceeds" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one txin plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_context_eq">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">cluster_lock_context_eq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L131-L140"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_context_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one guessing game plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_guessing_game">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">cluster_lock_guessing_game</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L88-L97"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.cluster_lock_guessing_game" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure just one guessing game plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the blanaces etc. don’t add up.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L25-L30"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.payment_addrs_lock_always_fails">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">payment_addrs_lock_always_fails</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_always_fails</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L185-L213"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.payment_addrs_lock_always_fails" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address while using the <cite>cluster_lock_always_fails</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.payment_addrs_lock_always_suceeds">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">payment_addrs_lock_always_suceeds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_always_suceeds</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L56-L85"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.payment_addrs_lock_always_suceeds" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address while using the <cite>cluster_lock_always_suceeds</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.payment_addrs_lock_guessing_game">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">payment_addrs_lock_guessing_game</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_guessing_game</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L100-L128"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.payment_addrs_lock_guessing_game" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address while using the <cite>cluster_lock_guessing_game</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.pool_users_lock_context_eq">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">pool_users_lock_context_eq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_context_eq</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L143-L170"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.pool_users_lock_context_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new pool users while using the <cite>cluster_lock_context_eq</cite> fixture.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_plutus_spend_raw.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_plutus_spend_raw.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_plutus_spend_raw.py#L33-L37"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_plutus_spend_raw.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_pools">
<span id="cardano-node-tests-tests-test-pools-module"></span><h2>cardano_node_tests.tests.test_pools module<a class="headerlink" href="#module-cardano_node_tests.tests.test_pools" title="Permalink to this headline">¶</a></h2>
<p>Tests for operations with stake pools.</p>
<ul class="simple">
<li><p>pool registration</p></li>
<li><p>pool deregistration</p></li>
<li><p>pool update</p></li>
<li><p>pool metadata</p></li>
<li><p>pool reregistration</p></li>
</ul>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_pools.TestNegative">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_pools.</code><code class="sig-name descname">TestNegative</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1909-L2447"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stake pool tests that are expected to fail.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.gen_pool_registration_cert_data">
<code class="sig-name descname">gen_pool_registration_cert_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>str<span class="p">, </span>str<span class="p">, </span>cardano_clusterlib.clusterlib.KeyPair<span class="p">, </span>cardano_clusterlib.clusterlib.ColdKeyPair<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1951-L1975"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.gen_pool_registration_cert_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.pool_data">
<code class="sig-name descname">pool_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.PoolData<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1941-L1949"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pool_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.pool_users">
<code class="sig-name descname">pool_users</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1913-L1939"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pool_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_deregistration_not_registered">
<code class="sig-name descname">test_pool_deregistration_not_registered</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_data</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolData</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2118-L2176"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_deregistration_not_registered" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to deregister pool that is not registered.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_cold">
<code class="sig-name descname">test_pool_registration_cert_wrong_cold</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_data</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolData</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2000-L2021"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_cold" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to generate pool registration certificate using wrong Cold vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_stake">
<code class="sig-name descname">test_pool_registration_cert_wrong_stake</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_data</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolData</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2023-L2044"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_stake" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to generate pool registration certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_vrf">
<code class="sig-name descname">test_pool_registration_cert_wrong_vrf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_data</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolData</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1977-L1998"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_vrf" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to generate pool registration certificate using wrong VRF key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_cold_skey">
<code class="sig-name descname">test_pool_registration_missing_cold_skey</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_data</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolData</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2046-L2081"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_cold_skey" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to register pool using transaction with missing Cold skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_payment_skey">
<code class="sig-name descname">test_pool_registration_missing_payment_skey</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">pool_data</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.PoolData</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2083-L2116"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_payment_skey" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to register pool using transaction with missing payment skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_long_metadata_url">
<code class="sig-name descname">test_stake_pool_long_metadata_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">gen_pool_registration_cert_data</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>str<span class="p">, </span>str<span class="p">, </span>cardano_clusterlib.clusterlib.KeyPair<span class="p">, </span>cardano_clusterlib.clusterlib.ColdKeyPair<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2408-L2447"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_long_metadata_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool registration cert when the <em>metadata-url</em> is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_description">
<code class="sig-name descname">test_stake_pool_metadata_long_description</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2311-L2342"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when the <em>description</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_homepage">
<code class="sig-name descname">test_stake_pool_metadata_long_homepage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2379-L2406"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_homepage" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when the <em>homepage</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_name">
<code class="sig-name descname">test_stake_pool_metadata_long_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2278-L2309"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when the <em>name</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_ticker">
<code class="sig-name descname">test_stake_pool_metadata_long_ticker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2344-L2377"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_ticker" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when the <em>ticker</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_description">
<code class="sig-name descname">test_stake_pool_metadata_no_description</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2203-L2226"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>description</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_homepage">
<code class="sig-name descname">test_stake_pool_metadata_no_homepage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2253-L2276"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_homepage" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>homepage</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_name">
<code class="sig-name descname">test_stake_pool_metadata_no_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2178-L2201"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>name</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_ticker">
<code class="sig-name descname">test_stake_pool_metadata_no_ticker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L2228-L2251"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_ticker" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>ticker</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_pools.TestPoolCost">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_pools.</code><code class="sig-name descname">TestPoolCost</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1781-L1906"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for stake pool cost.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestPoolCost.pool_owners">
<code class="sig-name descname">pool_owners</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_mincost</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1785-L1815"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.pool_owners" title="Permalink to this definition">¶</a></dt>
<dd><p>Create class scoped pool owners.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_pools.TestPoolCost.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='order', args=(2,), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_cost">
<code class="sig-name descname">test_stake_pool_cost</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_mincost</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_owners</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">pool_cost</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1859-L1906"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and register a stake pool with <em>pool cost</em> &gt;= <em>minPoolCost</em>.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_low_cost">
<code class="sig-name descname">test_stake_pool_low_cost</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_mincost</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_owners</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1817-L1857"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_low_cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to create and register a stake pool with pool cost lower than <em>minPoolCost</em>.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_pools.</code><code class="sig-name descname">TestStakePool</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L630-L1778"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General tests for stake pools.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='dbsync', args=(), kwargs={}), Mark(name='long', args=(), kwargs={}), Mark(name='testnets', args=(), kwargs={}), Mark(name='order', args=(2,), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_cancel_stake_pool_deregistration">
<code class="sig-name descname">test_cancel_stake_pool_deregistration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1149-L1284"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_cancel_stake_pool_deregistration" title="Permalink to this definition">¶</a></dt>
<dd><p>Reregister a stake pool that is in course of being retired.</p>
<ul class="simple">
<li><p>deregister stake pool in epoch + 2</p></li>
<li><p>reregister the pool by resubmitting the pool registration certificate</p></li>
<li><p>delegate stake address to pool again (the address is already registered)</p></li>
<li><p>check that no additional pool deposit was used</p></li>
<li><p>check that pool is still correctly setup</p></li>
<li><p>check that the stake addresses is still delegated</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_create_stake_pool">
<code class="sig-name descname">test_create_stake_pool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">no_of_addr</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L792-L856"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_create_stake_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and register a stake pool (without metadata).</p>
<p>Check that pool was registered.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_deregister_stake_pool">
<code class="sig-name descname">test_deregister_stake_pool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L858-L992"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_deregister_stake_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Deregister stake pool.</p>
<ul class="simple">
<li><p>deregister stake pool</p></li>
<li><p>check that the stake addresses are no longer delegated</p></li>
<li><p>check that the pool deposit was returned to reward account</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_pool_registration_deregistration">
<code class="sig-name descname">test_pool_registration_deregistration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1684-L1778"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_pool_registration_deregistration" title="Permalink to this definition">¶</a></dt>
<dd><p>Send both pool registration and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>create pool registration cert</p></li>
<li><p>create pool deregistration cert</p></li>
<li><p>register and deregister stake pool in single TX</p></li>
<li><p>check that the pool deposit was NOT returned to reward account as the reward address
is not registered (deposit is lost)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_reregister_stake_pool">
<code class="sig-name descname">test_reregister_stake_pool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L994-L1147"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_reregister_stake_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Reregister stake pool.</p>
<ul class="simple">
<li><p>deregister stake pool</p></li>
<li><p>check that the stake addresses are no longer delegated</p></li>
<li><p>reregister the pool by resubmitting the pool registration certificate</p></li>
<li><p>delegate stake address to pool again (the address is already registered)</p></li>
<li><p>check that pool was correctly setup</p></li>
<li><p>check that the stake addresses were delegated</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_sign_in_multiple_stages">
<code class="sig-name descname">test_sign_in_multiple_stages</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1549-L1682"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_sign_in_multiple_stages" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and register a stake pool with TX signed in multiple stages.</p>
<ul class="simple">
<li><p>create stake pool registration cert</p></li>
<li><p>create witness file for each signing key</p></li>
<li><p>sign TX using witness files</p></li>
<li><p>create and register pool</p></li>
<li><p>check that the pool was correctly registered on chain</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_metadata">
<code class="sig-name descname">test_stake_pool_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L637-L715"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and register a stake pool with metadata.</p>
<p>Check that pool was registered and stake address delegated.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_not_avail_metadata">
<code class="sig-name descname">test_stake_pool_not_avail_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L717-L790"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_not_avail_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and register a stake pool with metadata file not available.</p>
<p>Check that pool was registered and stake address delegated.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_metadata">
<code class="sig-name descname">test_update_stake_pool_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1286-L1421"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Update stake pool metadata.</p>
<ul class="simple">
<li><p>register pool</p></li>
<li><p>update the pool metadata by resubmitting the pool registration certificate</p></li>
<li><p>check that the pool metadata hash was correctly updated on chain</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_parameters">
<code class="sig-name descname">test_update_stake_pool_parameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">request</span><span class="p">:</span> <span class="n">_pytest.fixtures.FixtureRequest</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L1423-L1547"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Update stake pool parameters.</p>
<ul class="simple">
<li><p>register pool</p></li>
<li><p>update the pool parameters by resubmitting the pool registration certificate</p></li>
<li><p>check that the pool parameters were correctly updated on chain</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_pools.cluster_mincost">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_pools.</code><code class="sig-name descname">cluster_mincost</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">pool_cost_start_cluster</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L84-L90"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.cluster_mincost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_pools.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_pools.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L36-L41"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_pools.pool_cost_start_cluster">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_pools.</code><code class="sig-name descname">pool_cost_start_cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span> &#x2192; pathlib.Path<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L55-L81"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.pool_cost_start_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <em>minPoolCost</em> to 500.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_pools.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_pools.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_pools.py#L44-L48"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_protocol">
<span id="cardano-node-tests-tests-test-protocol-module"></span><h2>cardano_node_tests.tests.test_protocol module<a class="headerlink" href="#module-cardano_node_tests.tests.test_protocol" title="Permalink to this headline">¶</a></h2>
<p>Tests for protocol state and protocol parameters.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_protocol.TestProtocol">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_protocol.</code><code class="sig-name descname">TestProtocol</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_protocol.py#L66-L93"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for protocol.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_protocol.TestProtocol.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': &quot;different TX eras doesn't affect this test, pointless to run&quot;}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_protocol.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_params">
<code class="sig-name descname">test_protocol_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_protocol.py#L89-L93"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Check output of <cite>query protocol-parameters</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_keys">
<code class="sig-name descname">test_protocol_state_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_protocol.py#L74-L78"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Check output of <cite>query protocol-state</cite>.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_outfile">
<code class="sig-name descname">test_protocol_state_outfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_protocol.py#L80-L87"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_outfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Check output file produced by <cite>query protocol-state</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_protocol.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_protocol.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_protocol.py#L17-L22"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_protocol.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_protocol.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_protocol.py#L25-L29"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_scripts">
<span id="cardano-node-tests-tests-test-scripts-module"></span><h2>cardano_node_tests.tests.test_scripts module<a class="headerlink" href="#module-cardano_node_tests.tests.test_scripts" title="Permalink to this headline">¶</a></h2>
<p>Tests for multisig transactions and scripts.</p>
<ul class="simple">
<li><p>multisig</p></li>
<li><p>time locking</p></li>
<li><p>auxiliary scripts</p></li>
</ul>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_scripts.</code><code class="sig-name descname">TestAuxiliaryScripts</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1422-L1721"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for auxiliary scripts.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.CBOR_METADATA_FILE">
<code class="sig-name descname">CBOR_METADATA_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.cbor')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.CBOR_METADATA_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.JSON_METADATA_FILE">
<code class="sig-name descname">JSON_METADATA_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.json')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.JSON_METADATA_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1433-L1460"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Allegra+ TX'}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_invalid">
<code class="sig-name descname">test_tx_script_invalid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1677-L1721"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_invalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Build transaction with invalid auxiliary script.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_cbor">
<code class="sig-name descname">test_tx_script_metadata_cbor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1536-L1609"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_cbor" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with auxiliary script and metadata CBOR.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_json">
<code class="sig-name descname">test_tx_script_metadata_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1462-L1534"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with auxiliary script and metadata JSON.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_no_metadata">
<code class="sig-name descname">test_tx_script_no_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1611-L1675"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_no_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with auxiliary script and no other metadata.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_scripts.</code><code class="sig-name descname">TestBasic</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L143-L710"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for multisig transactions.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L147-L172"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_all">
<code class="sig-name descname">test_multisig_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L201-L264"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds to and from script address using the <em>all</em> script.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_any">
<code class="sig-name descname">test_multisig_any</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L266-L359"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_any" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds using the <em>any</em> script.</p>
<ul class="simple">
<li><p>send funds to script address</p></li>
<li><p>send funds from script address using single witness</p></li>
<li><p>send funds from script address using multiple witnesses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_atleast">
<code class="sig-name descname">test_multisig_atleast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L361-L436"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_atleast" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds to and from script address using the <em>atLeast</em> script.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_empty_all">
<code class="sig-name descname">test_multisig_empty_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L617-L661"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_empty_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from script address using the <em>all</em> script with zero skeys.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_no_required_atleast">
<code class="sig-name descname">test_multisig_no_required_atleast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L663-L710"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_no_required_atleast" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from script address using the <em>atLeast</em> script with no required witnesses.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_from_script_addr">
<code class="sig-name descname">test_normal_tx_from_script_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L518-L615"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_from_script_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds from script address using TX signed with skeys (not using witness files).</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_to_script_addr">
<code class="sig-name descname">test_normal_tx_to_script_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L438-L516"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_to_script_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds to script address using TX signed with skeys (not using witness files).</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestBasic.test_script_addr_length">
<code class="sig-name descname">test_script_addr_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L174-L199"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_script_addr_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that script address length is the same as lenght of other addresses.</p>
<p>There was an issue that script address was 32 bytes instead of 28 bytes.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_scripts.TestNegative">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_scripts.</code><code class="sig-name descname">TestNegative</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L713-L902"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transaction tests that are expected to fail.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestNegative.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L717-L744"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_scripts.TestNegative.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_all_missing_skey">
<code class="sig-name descname">test_multisig_all_missing_skey</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L746-L795"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_all_missing_skey" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from script address using the <em>all</em> script, omit one skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_any_unlisted_skey">
<code class="sig-name descname">test_multisig_any_unlisted_skey</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L797-L846"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_any_unlisted_skey" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from script address using the <em>any</em> script with unlisted skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_atleast_low_num_of_skeys">
<code class="sig-name descname">test_multisig_atleast_low_num_of_skeys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L848-L902"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_atleast_low_num_of_skeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from script address using the <em>atLeast</em> script.</p>
<p>Num of skeys &lt; required. Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_scripts.</code><code class="sig-name descname">TestTimeLocking</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L905-L1419"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for time locking.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L915-L942"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'runs only with Allegra+ TX'}), Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_future">
<code class="sig-name descname">test_after_future</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1254-L1343"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_future" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “after” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_past">
<code class="sig-name descname">test_after_past</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1345-L1419"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_past" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “after” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_future">
<code class="sig-name descname">test_before_future</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1179-L1252"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_future" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “before” slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_past">
<code class="sig-name descname">test_before_past</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1088-L1177"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_past" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it’s NOT possible to spend from the script address.</p>
<p>The “before” slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_after">
<code class="sig-name descname">test_script_after</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L944-L1015"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it is possible to spend from script address after given slot.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_before">
<code class="sig-name descname">test_script_before</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L1017-L1086"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that it is possible to spend from script address before given slot.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_scripts.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_scripts.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L30-L35"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_scripts.multisig_tx">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_scripts.</code><code class="sig-name descname">multisig_tx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_obj</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_template</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">src_address</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">dst_address</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">payment_skey_files</span><span class="p">:</span> <span class="n">List<span class="p">[</span>pathlib.Path<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">multisig_script</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>pathlib.Path<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">invalid_hereafter</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">invalid_before</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.TxRawOutput<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L49-L140"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.multisig_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Build and submit multisig transaction.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_scripts.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_scripts.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_scripts.py#L38-L42"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_staking">
<span id="cardano-node-tests-tests-test-staking-module"></span><h2>cardano_node_tests.tests.test_staking module<a class="headerlink" href="#module-cardano_node_tests.tests.test_staking" title="Permalink to this headline">¶</a></h2>
<p>Tests for staking, rewards, blocks production on real block-producing pools.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_staking.RewardRecord">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">RewardRecord</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epoch_no</span></em>, <em class="sig-param"><span class="n">reward_total</span></em>, <em class="sig-param"><span class="n">reward_per_epoch</span></em>, <em class="sig-param"><span class="n">member_pool_id</span></em>, <em class="sig-param"><span class="n">leader_pool_ids</span></em>, <em class="sig-param"><span class="n">stake_total</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L46-L52"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.RewardRecord" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_staking.RewardRecord.epoch_no">
<code class="sig-name descname">epoch_no</code><em class="property">: int</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.RewardRecord.epoch_no" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_staking.RewardRecord.leader_pool_ids">
<code class="sig-name descname">leader_pool_ids</code><em class="property">: Union<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">, </span>tuple<span class="p">]</span></em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.RewardRecord.leader_pool_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_staking.RewardRecord.member_pool_id">
<code class="sig-name descname">member_pool_id</code><em class="property">: str</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.RewardRecord.member_pool_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_staking.RewardRecord.reward_per_epoch">
<code class="sig-name descname">reward_per_epoch</code><em class="property">: int</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.RewardRecord.reward_per_epoch" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_staking.RewardRecord.reward_total">
<code class="sig-name descname">reward_total</code><em class="property">: int</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.RewardRecord.reward_total" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_staking.RewardRecord.stake_total">
<code class="sig-name descname">stake_total</code><em class="property">: int</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.RewardRecord.stake_total" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 5</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_staking.TestRewards">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">TestRewards</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L326-L2583"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for checking expected rewards.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='long', args=(), kwargs={}), Mark(name='order', args=(1,), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_2_pools_same_reward_addr">
<code class="sig-name descname">test_2_pools_same_reward_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_pool1_2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L2043-L2282"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_2_pools_same_reward_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that one reward address used for two pools receives rewards for both of them.</p>
<ul>
<li><p>set pool2 reward address to the reward address of pool1 by resubmitting the pool
registration certificate</p></li>
<li><p>collect data for both pool1 and pool2 for several epochs and with the help of db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>check that the original reward address for pool2 is NOT receiving rewards</p></li>
<li><p>check that the reward address for pool1 is now receiving rewards for both pools</p></li>
</ul>
</div></blockquote>
</li>
<li><p>check records in db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>transaction inputs, outputs, withdrawals, etc.</p></li>
<li><p>reward amounts received each epoch</p></li>
<li><p>expected pool ids</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_decreasing_reward_transfered_funds">
<code class="sig-name descname">test_decreasing_reward_transfered_funds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_use_pool1</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L1072-L1182"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_decreasing_reward_transfered_funds" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that rewards are gradually decreasing when funds are being transfered.</p>
<p>Even though nothing is staked and rewards are being transfered from reward address, there
are still some funds staked on the reward address at the time ledger snapshot is taken. For
that reason the reward amount received every epoch is gradually decreasing over the period
of several epochs until it is finally 0.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>transfer all funds from payment address back to faucet, so no funds are staked</p></li>
<li><p>keep withdrawing new rewards so reward balance is 0</p></li>
<li><p>check that reward amount is decreasing epoch after epoch</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_deregister_reward_addr_retire_pool">
<code class="sig-name descname">test_deregister_reward_addr_retire_pool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_pool2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L1837-L2041"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_deregister_reward_addr_retire_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Test deregistering reward address and retiring stake pool.</p>
<p>The pool deposit is lost when reward address is deregistered before the pool is retired.</p>
<ul class="simple">
<li><p>wait for first reward for the pool</p></li>
<li><p>withdraw pool rewards to payment address</p></li>
<li><p>deregister the pool reward address</p></li>
<li><p>check that the key deposit was returned</p></li>
<li><p>check that pool owner is NOT receiving rewards</p></li>
<li><p>deregister stake pool</p></li>
<li><p>check that the pool deposit was NOT returned to reward or stake address</p></li>
<li><p>return the pool to the original state - reregister the pool, register
the reward address, delegate the stake address to the pool</p></li>
<li><p>check that pool deposit was needed</p></li>
<li><p>check that pool owner is receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_deregistered_reward_addr">
<code class="sig-name descname">test_no_reward_deregistered_reward_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_pool2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L1662-L1835"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_deregistered_reward_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the reward address is not receiving rewards when deregistered.</p>
<p>The stake pool continues to operate normally and those who delegate to that pool receive
rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>withdraw pool rewards to payment address</p></li>
<li><p>deregister the pool reward address</p></li>
<li><p>check that the key deposit was returned</p></li>
<li><p>check that pool owner is NOT receiving rewards</p></li>
<li><p>check that new rewards are received by those delegating to the pool</p></li>
<li><p>return the pool to the original state - reregister reward address</p></li>
<li><p>check that pool owner is receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_deregistered_stake_addr">
<code class="sig-name descname">test_no_reward_deregistered_stake_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_pool2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L1488-L1660"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_deregistered_stake_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the pool is not receiving rewards when owner’s stake address is deregistered.</p>
<p>When the owner’s stake address is deregistered (i.e. owner’s stake is lower than pledge),
neither pool owners nor those who delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>deregister stake address - owner’s stake is lower than pledge</p></li>
<li><p>check that the key deposit was returned</p></li>
<li><p>check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also NOT receiving rewards</p></li>
<li><p>return the pool to the original state - reregister stake address and
delegate it to the pool</p></li>
<li><p>check that new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_unmet_pledge1">
<code class="sig-name descname">test_no_reward_unmet_pledge1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_pool2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L1184-L1326"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_unmet_pledge1" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the stake pool is not receiving rewards when pledge is not met.</p>
<p>When the pledge is higher than available funds, neither pool owners nor those who
delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>increase the needed pledge amount - update the pool parameters by resubmitting the pool
registration certificate - the funds are now lower than what is needed by the stake pool</p></li>
<li><p>check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also NOT receiving rewards</p></li>
<li><p>return the pool to the original state - restore pledge settings</p></li>
<li><p>check that new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_unmet_pledge2">
<code class="sig-name descname">test_no_reward_unmet_pledge2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_pool2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L1328-L1486"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_no_reward_unmet_pledge2" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the stake pool is not receiving rewards when pledge is not met.</p>
<p>When the pledge is higher than available funds, neither pool owners nor those who
delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>delegate stake address</p></li>
<li><p>wait for first reward</p></li>
<li><p>withdraw part of the pledge - the funds are lower than what is needed by the stake pool</p></li>
<li><p>check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also NOT receiving rewards</p></li>
<li><p>return the pool to the original state - restore pledge funds</p></li>
<li><p>check that new rewards were received by those delegating to the pool</p></li>
<li><p>check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_redelegation">
<code class="sig-name descname">test_redelegation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_use_pool1_2</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L2284-L2583"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_redelegation" title="Permalink to this definition">¶</a></dt>
<dd><p>Check rewards received by stake address over multiple epochs.</p>
<p>The address is re-delegated and deregistred / re-registered multiple times.</p>
<ul>
<li><p>delegate stake address to pool</p></li>
<li><p>in next epoch, re-delegate to another pool</p></li>
<li><p>in next epoch, deregister stake address, immediatelly re-register and delegate to pool</p></li>
<li><p>in next epoch, deregister stake address, wait for second half of an epoch, re-register
and delegate to pool</p></li>
<li><p>while doing the steps above, collect data for pool user for 8 epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>each epoch check received reward with reward in ledger state</p></li>
</ul>
</div></blockquote>
</li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_reward_addr_delegation">
<code class="sig-name descname">test_reward_addr_delegation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_lock_pool2_pots</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L689-L1070"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_reward_addr_delegation" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the rewards address can be delegated and receive rewards.</p>
<p>Tests <a class="reference external" href="https://github.com/input-output-hk/cardano-node/issues/1964">https://github.com/input-output-hk/cardano-node/issues/1964</a></p>
<p>The pool has a reward address that is different from pool owner’s stake address.</p>
<ul>
<li><p>delegate reward address to the pool</p></li>
<li><p>collect reward address data for 8 epochs and</p>
<blockquote>
<div><ul class="simple">
<li><p>each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>each epoch check received reward with reward in ledger state</p></li>
<li><p>check that reward address receives rewards for its staked amount +
the pool owner’s pledge (and pool cost)</p></li>
<li><p>send TXs with MIR certs that transfer funds from reserves and treasury
to pool reward address and check the reward was received as expected</p></li>
</ul>
</div></blockquote>
</li>
<li><p>check records in db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>transaction inputs, outputs, withdrawals, etc.</p></li>
<li><p>reward amounts received each epoch</p></li>
<li><p>expected pool id</p></li>
<li><p>expected reward types</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_reward_amount">
<code class="sig-name descname">test_reward_amount</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_use_pool1</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L408-L687"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_reward_amount" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the stake address and pool owner are receiving rewards.</p>
<ul>
<li><p>delegate to pool</p></li>
<li><p>create UTxOs with native tokens</p></li>
<li><p>collect data for pool owner and pool users for 9 epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>each epoch check received reward with reward in ledger state</p></li>
</ul>
</div></blockquote>
</li>
<li><p>withdraw rewards to payment address</p></li>
<li><p>burn native tokens</p></li>
<li><p>(optional) check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_staking.TestRewards.test_reward_simple">
<code class="sig-name descname">test_reward_simple</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster_and_pool</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L331-L406"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.TestRewards.test_reward_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the stake address and pool owner are receiving rewards.</p>
<ul class="simple">
<li><p>delegate to pool</p></li>
<li><p>wait for rewards for pool owner and pool users for up to 4 epochs</p></li>
<li><p>withdraw rewards to payment address</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.cluster_and_pool">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">cluster_and_pool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.ClusterLib<span class="p">, </span>str<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L55-L59"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.cluster_and_pool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.cluster_lock_pool1_2">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">cluster_lock_pool1_2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L81-L87"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.cluster_lock_pool1_2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.cluster_lock_pool2">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">cluster_lock_pool2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L76-L78"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.cluster_lock_pool2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.cluster_lock_pool2_pots">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">cluster_lock_pool2_pots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L90-L100"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.cluster_lock_pool2_pots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.cluster_use_pool1">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">cluster_use_pool1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L62-L64"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.cluster_use_pool1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.cluster_use_pool1_2">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">cluster_use_pool1_2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L67-L73"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.cluster_use_pool1_2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L27-L32"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L35-L39"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_staking.withdraw_reward_w_build">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_staking.</code><code class="sig-name descname">withdraw_reward_w_build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_obj</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">stake_addr_record</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em>, <em class="sig-param"><span class="n">dst_addr_record</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em>, <em class="sig-param"><span class="n">tx_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">verify</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">destination_dir</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.Path<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'.'</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.TxRawOutput<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_staking.py#L103-L161"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking.withdraw_reward_w_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Withdraw reward to payment address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_obj</strong> – An instance of <cite>clusterlib.ClusterLib</cite>.</p></li>
<li><p><strong>stake_addr_record</strong> – An <cite>AddressRecord</cite> tuple for the stake address with reward.</p></li>
<li><p><strong>dst_addr_record</strong> – An <cite>AddressRecord</cite> tuple for the destination payment address.</p></li>
<li><p><strong>tx_name</strong> – A name of the transaction.</p></li>
<li><p><strong>verify</strong> – A bool indicating whether to verify that the reward was transferred correctly.</p></li>
<li><p><strong>destination_dir</strong> – A path to directory for storing artifacts (optional).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_transaction_fees">
<span id="cardano-node-tests-tests-test-transaction-fees-module"></span><h2>cardano_node_tests.tests.test_transaction_fees module<a class="headerlink" href="#module-cardano_node_tests.tests.test_transaction_fees" title="Permalink to this headline">¶</a></h2>
<p>Tests for fees of various kinds of transactions.</p>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transaction_fees.</code><code class="sig-name descname">TestExpectedFees</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L195-L619"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test expected fees.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.pool_users">
<code class="sig-name descname">pool_users</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L198-L223"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.pool_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_addr_deregistration_fees">
<code class="sig-name descname">test_addr_deregistration_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">addr_fee</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L473-L509"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_addr_deregistration_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test stake address deregistration fees.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_addr_registration_fees">
<code class="sig-name descname">test_addr_registration_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">addr_fee</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L435-L471"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_addr_registration_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test stake address registration fees.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_pool_deregistration_fees">
<code class="sig-name descname">test_pool_deregistration_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">addr_fee</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L370-L433"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_pool_deregistration_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test pool deregistration fees.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_pool_registration_fees">
<code class="sig-name descname">test_pool_registration_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">addr_fee</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L317-L368"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_pool_registration_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test pool registration fees.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_100_addrs_from_100_addrs_fees">
<code class="sig-name descname">test_transaction_to_100_addrs_from_100_addrs_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount_expected</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L599-L619"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_100_addrs_from_100_addrs_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test fees for 1 tx from 100 payment addresses to 100 payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_10_addrs_from_10_addrs_fees">
<code class="sig-name descname">test_transaction_to_10_addrs_from_10_addrs_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount_expected</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L577-L597"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_10_addrs_from_10_addrs_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test fees for 1 tx from 10 payment addresses to 10 payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_10_addrs_from_1_addr_fees">
<code class="sig-name descname">test_transaction_to_10_addrs_from_1_addr_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount_expected</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L533-L553"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_10_addrs_from_1_addr_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test fees for 1 tx from 1 payment address to 10 payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_1_addr_from_10_addrs_fees">
<code class="sig-name descname">test_transaction_to_1_addr_from_10_addrs_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount_expected</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L555-L575"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_1_addr_from_10_addrs_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test fees for 1 tx from 10 payment addresses to 1 payment address.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_1_addr_from_1_addr_fees">
<code class="sig-name descname">test_transaction_to_1_addr_from_1_addr_fees</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount_expected</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L511-L531"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestExpectedFees.test_transaction_to_1_addr_from_1_addr_fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Test fees for 1 tx from 1 payment address to 1 payment address.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestFee">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transaction_fees.</code><code class="sig-name descname">TestFee</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L41-L192"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestFee" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General fees tests.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestFee.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L45-L70"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestFee.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestFee.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestFee.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestFee.test_expected_or_higher_fee">
<code class="sig-name descname">test_expected_or_higher_fee</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">fee_add</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L145-L192"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestFee.test_expected_or_higher_fee" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a transaction with fee that is same or higher than expected.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestFee.test_negative_fee">
<code class="sig-name descname">test_negative_fee</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L72-L101"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestFee.test_negative_fee" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send a transaction with negative fee (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transaction_fees.TestFee.test_smaller_fee">
<code class="sig-name descname">test_smaller_fee</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">fee_change</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L103-L143"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.TestFee.test_smaller_fee" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send a transaction with smaller-than-expected fee.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_transaction_fees.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_transaction_fees.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L22-L27"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_transaction_fees.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_transaction_fees.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transaction_fees.py#L30-L34"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transaction_fees.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests.test_transactions">
<span id="cardano-node-tests-tests-test-transactions-module"></span><h2>cardano_node_tests.tests.test_transactions module<a class="headerlink" href="#module-cardano_node_tests.tests.test_transactions" title="Permalink to this headline">¶</a></h2>
<p>Tests for general transactions.</p>
<ul class="simple">
<li><p>transfering funds (from 1 address to many, many to 1, many to many)</p></li>
<li><p>not balanced transactions</p></li>
<li><p>other negative tests like duplicated transaction, sending funds to wrong addresses,
wrong fee, wrong ttl</p></li>
<li><p>transactions with metadata</p></li>
<li><p>transactions with many UTxOs</p></li>
</ul>
<dl class="py class">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">TestBasic</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L121-L776"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test basic transactions - transfering funds, transaction IDs.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L125-L149"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.payment_addrs_no_change">
<code class="sig-name descname">payment_addrs_no_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L151-L170"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.payment_addrs_no_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Create 2 new payment addresses for <cite>test_build_no_change</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_build_multiple_same_txins">
<code class="sig-name descname">test_build_multiple_same_txins</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L735-L776"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_build_multiple_same_txins" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a transaction with multiple identical txins.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_build_no_change">
<code class="sig-name descname">test_build_no_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs_no_change</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L266-L333"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_build_no_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds to payment address and balance the outputs so that there is no change.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Tests bug <a class="reference external" href="https://github.com/input-output-hk/cardano-node/issues/3041">https://github.com/input-output-hk/cardano-node/issues/3041</a></p>
<ul class="simple">
<li><p>try to build a Tx that sends all available funds, and extract fee amount
from the error message</p></li>
<li><p>send all available funds minus fee from source address to destination address</p></li>
<li><p>check that no change UTxO was created</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_build_transfer_funds">
<code class="sig-name descname">test_build_transfer_funds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L215-L264"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_build_transfer_funds" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds to payment address.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_duplicate_signing_keys">
<code class="sig-name descname">test_duplicate_signing_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L513-L553"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_duplicate_signing_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a transaction with duplicate signing key.</p>
<p>Check that it is possible to specify the same signing key twice.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_extra_signing_keys">
<code class="sig-name descname">test_extra_signing_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L470-L511"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_extra_signing_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a transaction with extra signing key.</p>
<p>Check that it is possible to use unneded signing key in addition to the necessary
signing keys for signing the transaction.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_funds_to_valid_address">
<code class="sig-name descname">test_funds_to_valid_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L380-L425"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_funds_to_valid_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds to a valid payment address.</p>
<p>The destination address is a valid address that was generated sometime
in the past. The test verifies it is possible to use a valid address
even though it was not generated while running a speciffic cardano
network.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_get_txid">
<code class="sig-name descname">test_get_txid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L427-L468"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_get_txid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get transaction ID (txid) from transaction body.</p>
<p>Transaction ID is a hash of transaction body and doesn’t change for a signed TX.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>get txid from transaction body</p></li>
<li><p>get txid from signed transaction</p></li>
<li><p>check that txid from transaction body matches the txid from signed transaction</p></li>
<li><p>check that txid has expected lenght</p></li>
<li><p>check that the txid is listed in UTxO hashes for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_missing_ttl">
<code class="sig-name descname">test_missing_ttl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L626-L679"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_missing_ttl" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a transaction with a missing <cite>–ttl</cite> (<cite>–invalid-hereafter</cite>) parameter.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_missing_tx_out">
<code class="sig-name descname">test_missing_tx_out</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L593-L624"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_missing_tx_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a transaction with a missing <cite>–tx-out</cite> parameter.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_multiple_same_txins">
<code class="sig-name descname">test_multiple_same_txins</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L681-L733"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_multiple_same_txins" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with multiple identical txins.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_no_txout">
<code class="sig-name descname">test_no_txout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L555-L591"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_no_txout" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with just fee, no UTxO is produced.</p>
<ul class="simple">
<li><p>submit a transaction where all funds available on source address is used for fee</p></li>
<li><p>check that no UTxOs are created by the transaction</p></li>
<li><p>check that there are no funds left on source address</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_transfer_all_funds">
<code class="sig-name descname">test_transfer_all_funds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L335-L378"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_transfer_all_funds" title="Permalink to this definition">¶</a></dt>
<dd><p>Send ALL funds from one payment address to another.</p>
<ul class="simple">
<li><p>send all available funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balance for destination addresses</p></li>
<li><p>check that balance for source address is 0 Lovelace</p></li>
<li><p>check output of the <cite>transaction view</cite> command</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestBasic.test_transfer_funds">
<code class="sig-name descname">test_transfer_funds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L172-L213"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestBasic.test_transfer_funds" title="Permalink to this definition">¶</a></dt>
<dd><p>Send funds to payment address.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_transactions.TestManyUTXOs">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">TestManyUTXOs</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1146-L1350"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestManyUTXOs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test transaction with many UTxOs and small amounts of Lovelace.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestManyUTXOs.many_utxos">
<code class="sig-name descname">many_utxos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">, </span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1205-L1256"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestManyUTXOs.many_utxos" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate many UTxOs (100000+) with 1-2 ADA.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestManyUTXOs.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1153-L1178"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestManyUTXOs.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestManyUTXOs.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='skipif', args=(False,), kwargs={'reason': 'expensive test, skip when cluster era is different from TX era'})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestManyUTXOs.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestManyUTXOs.test_mini_transactions">
<code class="sig-name descname">test_mini_transactions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">many_utxos</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">, </span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1258-L1350"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestManyUTXOs.test_mini_transactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Test transaction with many UTxOs (300+) with small amounts of ADA (1-10).</p>
<ul class="simple">
<li><p>use source address with many UTxOs (100000+)</p></li>
<li><p>use destination address with many UTxOs (100000+)</p></li>
<li><p>sent transaction with many UTxOs (300+) with tiny amounts of Lovelace from source address
to destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">TestMetadata</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2686-L3256"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transactions with metadata.</p>
<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.CBOR_METADATA_FILE">
<code class="sig-name descname">CBOR_METADATA_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.cbor')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.CBOR_METADATA_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_FILE">
<code class="sig-name descname">JSON_METADATA_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.json')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_INVALID_FILE">
<code class="sig-name descname">JSON_METADATA_INVALID_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_invalid.json')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_INVALID_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_LONG_FILE">
<code class="sig-name descname">JSON_METADATA_LONG_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_long.json')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_LONG_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_WRONG_FILE">
<code class="sig-name descname">JSON_METADATA_WRONG_FILE</code><em class="property"> = PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_wrong.json')</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.JSON_METADATA_WRONG_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.METADATA_DUPLICATES">
<code class="sig-name descname">METADATA_DUPLICATES</code><em class="property"> = 'tx_metadata_duplicate_keys*.json'</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.METADATA_DUPLICATES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.payment_addr">
<code class="sig-name descname">payment_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.AddressRecord<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2697-L2721"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.payment_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_invalid_json_metadata">
<code class="sig-name descname">test_build_tx_invalid_json_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2792-L2816"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_invalid_json_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with invalid metadata JSON.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>The metadata file is an invalid JSON.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_metadata_both">
<code class="sig-name descname">test_build_tx_metadata_both</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L3092-L3151"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_metadata_both" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with both metadata JSON and CBOR.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_metadata_cbor">
<code class="sig-name descname">test_build_tx_metadata_cbor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2993-L3041"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_metadata_cbor" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with metadata CBOR.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_metadata_json">
<code class="sig-name descname">test_build_tx_metadata_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2905-L2954"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_metadata_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with metadata JSON.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>check that the metadata in TX body matches the original metadata</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_too_long_metadata_json">
<code class="sig-name descname">test_build_tx_too_long_metadata_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2839-L2863"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_too_long_metadata_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with metadata JSON longer than 64 bytes.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_wrong_json_metadata_format">
<code class="sig-name descname">test_build_tx_wrong_json_metadata_format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2745-L2768"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_build_tx_wrong_json_metadata_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with wrong fromat of metadata JSON.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>The metadata file is a valid JSON, but not in a format that is expected.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_duplicate_metadata_keys">
<code class="sig-name descname">test_tx_duplicate_metadata_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L3153-L3198"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_duplicate_metadata_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with multiple metadata JSON files and with duplicate keys.</p>
<ul class="simple">
<li><p>check that the metadata in TX body matches the original metadata</p></li>
<li><p>check that in case of duplicate keys the first occurrence is used</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_invalid_json_metadata">
<code class="sig-name descname">test_tx_invalid_json_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2770-L2790"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_invalid_json_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with invalid metadata JSON.</p>
<p>The metadata file is an invalid JSON.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_both">
<code class="sig-name descname">test_tx_metadata_both</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L3043-L3090"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_both" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with both metadata JSON and CBOR.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_cbor">
<code class="sig-name descname">test_tx_metadata_cbor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2956-L2991"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_cbor" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with metadata CBOR.</p>
<p>Check that the metadata in TX body matches the original metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_json">
<code class="sig-name descname">test_tx_metadata_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2865-L2903"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with metadata JSON.</p>
<ul class="simple">
<li><p>check that the metadata in TX body matches the original metadata</p></li>
<li><p>(optional) check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_no_txout">
<code class="sig-name descname">test_tx_metadata_no_txout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L3200-L3256"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_metadata_no_txout" title="Permalink to this definition">¶</a></dt>
<dd><p>Send transaction with just metadata, no UTxO is produced.</p>
<ul class="simple">
<li><p>submit a transaction where all funds available on source address is used for fee</p></li>
<li><p>check that no UTxOs are created by the transaction</p></li>
<li><p>check that there are no funds left on source address</p></li>
<li><p>check that the metadata in TX body matches the original metadata</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_too_long_metadata_json">
<code class="sig-name descname">test_tx_too_long_metadata_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2818-L2837"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_too_long_metadata_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with metadata JSON longer than 64 bytes.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_wrong_json_metadata_format">
<code class="sig-name descname">test_tx_wrong_json_metadata_format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addr</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.AddressRecord</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2723-L2743"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMetadata.test_tx_wrong_json_metadata_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with wrong fromat of metadata JSON.</p>
<p>The metadata file is a valid JSON, but not in a format that is expected.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">TestMultiInOut</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L779-L1143"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test transactions with multiple txins and/or txouts.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L783-L811"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create 201 new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut.test_10_transactions">
<code class="sig-name descname">test_10_transactions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L940-L991"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut.test_10_transactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Send 10 transactions to payment address.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 1 destination address in 10 separate transactions</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_100_addrs_from_50_addrs">
<code class="sig-name descname">test_transaction_to_100_addrs_from_50_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1107-L1143"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_100_addrs_from_50_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Test 1 transaction from 50 payment addresses to 100 payment addresses.</p>
<ul class="simple">
<li><p>send funds from 50 source addresses to 100 destination addresses</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_10_addrs_from_10_addrs">
<code class="sig-name descname">test_transaction_to_10_addrs_from_10_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1069-L1105"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_10_addrs_from_10_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Test 1 transaction from 10 payment addresses to 10 payment addresses.</p>
<ul class="simple">
<li><p>send funds from 10 source addresses to 10 destination addresses</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_10_addrs_from_1_addr">
<code class="sig-name descname">test_transaction_to_10_addrs_from_1_addr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L993-L1029"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_10_addrs_from_1_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Test 1 transaction from 1 payment address to 10 payment addresses.</p>
<ul class="simple">
<li><p>send funds from 1 source address to 10 destination addresses</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_1_addr_from_10_addrs">
<code class="sig-name descname">test_transaction_to_1_addr_from_10_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">amount</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1031-L1067"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestMultiInOut.test_transaction_to_1_addr_from_10_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Test 1 transaction from 10 payment addresses to 1 payment address.</p>
<ul class="simple">
<li><p>send funds from 10 source addresses to 1 destination address</p></li>
<li><p>check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">TestNegative</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1547-L2683"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transaction tests that are expected to fail.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.cluster_wrong_tx_era">
<code class="sig-name descname">cluster_wrong_tx_era</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; cardano_clusterlib.clusterlib.ClusterLib<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1553-L1564"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.cluster_wrong_tx_era" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.pool_users">
<code class="sig-name descname">pool_users</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1566-L1591"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.pool_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_invalid_lenght_utxo_hash">
<code class="sig-name descname">test_build_invalid_lenght_utxo_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2404-L2435"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_invalid_lenght_utxo_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to use invalid UTxO hash as an input (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_missing_change_address">
<code class="sig-name descname">test_build_missing_change_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2597-L2637"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_missing_change_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with a missing <cite>–change-address</cite> parameter.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_missing_tx_in">
<code class="sig-name descname">test_build_missing_tx_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2554-L2595"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_missing_tx_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with a missing <cite>–tx-in</cite> parameter.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_multiple_change_addresses">
<code class="sig-name descname">test_build_multiple_change_addresses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2639-L2683"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_multiple_change_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with multiple <cite>–change-address</cite> parameters.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_from_invalid_address">
<code class="sig-name descname">test_build_send_funds_from_invalid_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2131-L2150"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_from_invalid_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from non-existent address (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_from_invalid_chars_address">
<code class="sig-name descname">test_build_send_funds_from_invalid_chars_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2207-L2228"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_from_invalid_chars_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from address with invalid characters (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_from_invalid_length_address">
<code class="sig-name descname">test_build_send_funds_from_invalid_length_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2168-L2187"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_from_invalid_length_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from address with invalid length (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_invalid_change_address">
<code class="sig-name descname">test_build_send_funds_invalid_change_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2230-L2249"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_invalid_change_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds using invalid change address (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_invalid_chars_change_address">
<code class="sig-name descname">test_build_send_funds_invalid_chars_change_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2251-L2272"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_invalid_chars_change_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds using change address with invalid characters (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_invalid_length_change_address">
<code class="sig-name descname">test_build_send_funds_invalid_length_change_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2274-L2293"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_invalid_length_change_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds using change address with invalid length (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_to_invalid_address">
<code class="sig-name descname">test_build_send_funds_to_invalid_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2016-L2035"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_to_invalid_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to non-existent address (property-based test).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_to_invalid_chars_address">
<code class="sig-name descname">test_build_send_funds_to_invalid_chars_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2092-L2113"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_to_invalid_chars_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to address with invalid characters.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_to_invalid_length_address">
<code class="sig-name descname">test_build_send_funds_to_invalid_length_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2053-L2072"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_build_send_funds_to_invalid_length_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to address with invalid length.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_duplicated_tx">
<code class="sig-name descname">test_duplicated_tx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1758-L1815"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_duplicated_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send an identical transaction twice.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_invalid_lenght_utxo_hash">
<code class="sig-name descname">test_invalid_lenght_utxo_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2378-L2402"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_invalid_lenght_utxo_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to use invalid UTxO hash as an input (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_missing_fee">
<code class="sig-name descname">test_missing_fee</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2437-L2472"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_missing_fee" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with a missing <cite>–fee</cite> parameter.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_missing_ttl">
<code class="sig-name descname">test_missing_ttl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2474-L2514"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_missing_ttl" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a Shelley era TX with a missing <cite>–ttl</cite> (<cite>–invalid-hereafter</cite>) parameter.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_missing_tx_in">
<code class="sig-name descname">test_missing_tx_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2516-L2552"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_missing_tx_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with a missing <cite>–tx-in</cite> parameter.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_nonexistent_utxo_hash">
<code class="sig-name descname">test_nonexistent_utxo_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2336-L2376"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_nonexistent_utxo_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to use nonexistent UTxO hash as an input.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_nonexistent_utxo_ix">
<code class="sig-name descname">test_nonexistent_utxo_ix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2295-L2334"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_nonexistent_utxo_ix" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to use nonexistent UTxO TxIx as an input.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_past_ttl">
<code class="sig-name descname">test_past_ttl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1711-L1756"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_past_ttl" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send a transaction with ttl in the past.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_from_invalid_address">
<code class="sig-name descname">test_send_funds_from_invalid_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2115-L2129"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_from_invalid_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from invalid address (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_from_invalid_chars_address">
<code class="sig-name descname">test_send_funds_from_invalid_chars_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2189-L2205"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_from_invalid_chars_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from address with invalid characters (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_from_invalid_length_address">
<code class="sig-name descname">test_send_funds_from_invalid_length_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2152-L2166"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_from_invalid_length_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from address with invalid length (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_invalid_address">
<code class="sig-name descname">test_send_funds_to_invalid_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2000-L2014"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_invalid_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to non-existent address (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_invalid_chars_address">
<code class="sig-name descname">test_send_funds_to_invalid_chars_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2074-L2090"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_invalid_chars_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to address with invalid characters.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_invalid_length_address">
<code class="sig-name descname">test_send_funds_to_invalid_length_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L2037-L2051"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_invalid_length_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to address with invalid length.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_reward_address">
<code class="sig-name descname">test_send_funds_to_reward_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1941-L1968"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_reward_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to stake address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_utxo_address">
<code class="sig-name descname">test_send_funds_to_utxo_address</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">use_build_cmd</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1970-L1998"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_send_funds_to_utxo_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send funds from payment address to UTxO address.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_wrong_network_magic">
<code class="sig-name descname">test_wrong_network_magic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">worker_id</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1817-L1883"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_wrong_network_magic" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to submit a TX with wrong network magic.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_wrong_signing_key">
<code class="sig-name descname">test_wrong_signing_key</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1885-L1909"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_wrong_signing_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send a transaction signed with wrong signing key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNegative.test_wrong_tx_era">
<code class="sig-name descname">test_wrong_tx_era</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_wrong_tx_era</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">pool_users</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.PoolUser<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1911-L1939"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNegative.test_wrong_tx_era" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to send a transaction using TX era &gt; network (cluster) era.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cardano_node_tests.tests.test_transactions.TestNotBalanced">
<em class="property">class </em><code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">TestNotBalanced</code><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1353-L1544"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNotBalanced" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for not balanced transactions.</p>
<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNotBalanced.payment_addrs">
<code class="sig-name descname">payment_addrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_manager</span><span class="p">:</span> <span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.cluster_management.ClusterManager" title="cardano_node_tests.utils.cluster_management.ClusterManager">cardano_node_tests.utils.cluster_management.ClusterManager</a></span></em>, <em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1357-L1382"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNotBalanced.payment_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt id="cardano_node_tests.tests.test_transactions.TestNotBalanced.pytestmark">
<code class="sig-name descname">pytestmark</code><em class="property"> = [Mark(name='testnets', args=(), kwargs={})]</em><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNotBalanced.pytestmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNotBalanced.test_build_not_enough_for_fee">
<code class="sig-name descname">test_build_not_enough_for_fee</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1438-L1472"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNotBalanced.test_build_not_enough_for_fee" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with a negative change using <cite>transaction build</cite>.</p>
<p>Check that it is not possible to built such transaction.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNotBalanced.test_negative_change">
<code class="sig-name descname">test_negative_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1384-L1436"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNotBalanced.test_negative_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to build a transaction with a negative change.</p>
<p>Check that it is not possible to built such transaction.</p>
</dd></dl>

<dl class="py method">
<dt id="cardano_node_tests.tests.test_transactions.TestNotBalanced.test_wrong_balance">
<code class="sig-name descname">test_wrong_balance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster</span><span class="p">:</span> <span class="n">cardano_clusterlib.clusterlib.ClusterLib</span></em>, <em class="sig-param"><span class="n">payment_addrs</span><span class="p">:</span> <span class="n">List<span class="p">[</span>cardano_clusterlib.clusterlib.AddressRecord<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L1474-L1544"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.TestNotBalanced.test_wrong_balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a transaction with unbalanced change (property-based test).</p>
<ul class="simple">
<li><p>build a not balanced transaction</p></li>
<li><p>check that it is not possible to submit such transaction</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_transactions.create_temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">create_temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmp_path_factory</span><span class="p">:</span> <span class="n">_pytest.tmpdir.TempdirFactory</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L45-L50"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.create_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir.</p>
</dd></dl>

<dl class="py function">
<dt id="cardano_node_tests.tests.test_transactions.temp_dir">
<code class="sig-prename descclassname">cardano_node_tests.tests.test_transactions.</code><code class="sig-name descname">temp_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">create_temp_dir</span><span class="p">:</span> <span class="n">pathlib.Path</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/input-output-hk/cardano-node-tests/blob/73f1e51529e9e4a60e38ebff7ddd81ae0b5718ca/cardano_node_tests/tests/test_transactions.py#L53-L57"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cardano_node_tests.tests.test_transactions.temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to a temporary dir.</p>
</dd></dl>

</div>
<div class="section" id="module-cardano_node_tests.tests">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cardano_node_tests.tests" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cardano_node_tests.html" class="btn btn-neutral float-left" title="cardano_node_tests package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cardano_node_tests.utils.html" class="btn btn-neutral float-right" title="cardano_node_tests.utils package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1980, Cardano QA Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>